{"version":3,"sources":["webpack:///crypto (ignored)","webpack:///src/app/registro/registro.component.ts","webpack:///src/app/registro/registro.component.html","webpack:///src/app/usuarios/usuarios.component.ts","webpack:///src/app/usuarios/usuarios.component.html","webpack:///src/app/ver-solicitudes/ver-solicitudes.component.ts","webpack:///src/app/ver-solicitudes/ver-solicitudes.component.html","webpack:///src/app/home/home.component.html","webpack:///src/app/home/home.component.ts","webpack:///src/environments/environment.ts","webpack:///src/app/denegado/denegado.component.ts","webpack:///src/app/denegado/denegado.component.html","webpack:///src/app/services/producto.service.ts","webpack:///src/app/solicitar-libro/solicitar-libro.component.ts","webpack:///src/app/solicitar-libro/solicitar-libro.component.html","webpack:///src/app/log-editorial/log-editorial.component.ts","webpack:///src/app/log-editorial/log-editorial.component.html","webpack:///src/app/libros/libros.component.ts","webpack:///src/app/libros/libros.component.html","webpack:///src/app/app.component.ts","webpack:///src/app/app.component.html","webpack:///src/app/admin/admin.component.ts","webpack:///src/app/admin/admin.component.html","webpack:///src/app/app.module.ts","webpack:///src/app/guards/administrador.guard.ts","webpack:///src/app/pedido/pedido.component.html","webpack:///src/app/pedido/pedido.component.ts","webpack:///src/app/urls/urls.ts","webpack:///src/app/navigation/navigation.component.html","webpack:///src/app/navigation/navigation.component.ts","webpack:///src/app/services/usuario.service.ts","webpack:///src/app/impuestos/impuestos.component.ts","webpack:///src/app/impuestos/impuestos.component.html","webpack:///src/app/app-routing.module.ts","webpack:///src/app/login/login.component.ts","webpack:///src/app/login/login.component.html","webpack:///src/app/perfil-cliente/perfil-cliente.component.ts","webpack:///src/app/perfil-cliente/perfil-cliente.component.html","webpack:///src/app/carrito/carrito.component.ts","webpack:///src/app/carrito/carrito.component.html","webpack:///src/app/guards/usuario.guard.ts","webpack:///src/main.ts","webpack:///$_lazy_route_resource lazy namespace object"],"names":["RegistroComponent","registerService","router","credentialsInvalid","messageError","active","myFormRest","EditorialName","required","minLength","maxLength","EditorialPass","EditorialEmail","email","EditorialAddress","myForm","userName","userLastName","userEmail","userPhone","userPass","userType","user","value","setTimeout","usuario","nombre","apellido","correo","password","editorial","telefono","idRol","id_rol","estado","console","log","postRegistro","subscribe","data","msg","navigateByUrl","error","UsuariosComponent","http","modal","myURL","url","url_Usuarios","url_eliminar","url_Eliminar_Usuario","url_editar","url_Actualizar_Usuario","listaUsuarios","myFormEditar","_id","get","contenido","open","centered","res","post","location","reload","abrir","localStorage","setItem","JSON","stringify","setValue","parse","getItem","abrirCentrado","editado","put","removeItem","VerSolicitudesComponent","url_get","url_getSolicitudes","url_deleteSolicitudes","url_crear","url_newBitacora","lista_solicitudes","myBitacora","operacion","description","u","navigate","libro","nuevo_libro","author","autor","category","coverPage","pdf","price","units","title","crearBitacora","eliminarSolicitud","res1","data1","tipoOperacion","descripcion","creado","HomeComponent","listaproductos","listaproductos2","listacarrito","elemento","push","pro","environment","production","DenegadoComponent","ProductoService","route","API_URI","id","producto","options","headers","body","SolicitarLibroComponent","url_solicitarLibro","imagen","imag64","primera_publicacion","event","file","target","files","reader","FileReader","readAsDataURL","onload","result","toString","sinMetadata","split","solicitud","onSubmit","handleUpload","LogEditorialComponent","url_getBitacora","lista_log","LibrosComponent","showAlert","tipoAlert","listalibros","lista_editorial","myFormCrear","filter","crear","AppComponent","AdminComponent","productoService","listado","listadoCategorias","precio","cantidad","id_categoria","id_producto","myFormEliminar","item","undefined","getProductos","datos","getCategorias","productoEnviar","imagen_base64","Number","id_restaurante","postProducto","mensaje","reset","form","idSelect","resultado","find","produc","prodEditar","id_usuario","putProducto","enviar","deleteProducto","openCentrado","AppModule","AdministradorGuard","loginService","clase","claseUser","PedidoComponent","direccion","total","fecha","model","idUsuario","numOrden","size","addId","addNumOrden","idList","URLs","host","url_compra","usuarioService","NavigationComponent","tipouser","isCollapse","events","val","foo","toggleState","UsuarioService","tokenFromUI","contrasena","encriptada","encryptUsingAES256","desencriptar","decryptUsingAES256","request","_key","Utf8","_iv","encrypted","encrypt","keySize","iv","mode","ECB","padding","Pkcs7","decrypt","ImpuestosComponent","pais","iva","parseInt","toFixed","routes","path","component","canActivate","AppRoutingModule","forRoot","LoginComponent","pass","postLogin","newUser","status","PerfilClienteComponent","updateService","EditorialPhone","updateUser","CarritoComponent","listacompra","listatemporal","forEach","element","pop","window","carrito","reduce","final","actual","productos","alert","crearPedido","UsuarioGuard","estaLog","bootstrapModule","err","webpackEmptyAsyncContext","req","Promise","resolve","then","e","Error","code","keys","module","exports"],"mappings":"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","file":"main-es5.js","sourcesContent":["/* (ignored) */","import { FormControl, FormGroup, Validators } from \"@angular/forms\";\r\nimport { Component, OnInit } from \"@angular/core\";\r\nimport {Router} from '@angular/router';\r\n\r\nimport { UsuarioService } from \"../services/usuario.service\";\r\nimport { usuario } from \"../models/user\";\r\n\r\n@Component({\r\n  selector: 'app-registro',\r\n  templateUrl: './registro.component.html',\r\n  styleUrls: ['./registro.component.css']\r\n})\r\nexport class RegistroComponent implements OnInit {\r\n\r\n  credentialsInvalid: boolean = false;\r\n  messageError: string = '';\r\n  active = 1;\r\n  myFormRest = new FormGroup({\r\n    EditorialName: new FormControl(\"\", [\r\n      Validators.required,\r\n      Validators.minLength(4),\r\n      Validators.maxLength(15)\r\n    ]),\r\n\r\n    EditorialPass: new FormControl(\"\", [\r\n      Validators.required,\r\n      Validators.minLength(4),\r\n      Validators.maxLength(15)\r\n    ]),\r\n\r\n    EditorialEmail: new FormControl(\"\", [\r\n      Validators.required,\r\n      Validators.minLength(12),\r\n      Validators.maxLength(35),\r\n      Validators.email\r\n    ]),\r\n\r\n    EditorialAddress: new FormControl(\"\", [\r\n      Validators.required,\r\n      Validators.minLength(4),\r\n      Validators.maxLength(15)\r\n    ]),\r\n  });\r\n\r\n  myForm = new FormGroup({\r\n    userName: new FormControl(\"\", [\r\n      Validators.required,\r\n      Validators.minLength(4),\r\n      Validators.maxLength(15)\r\n    ]),\r\n    userLastName: new FormControl(\"\", [\r\n      Validators.required,\r\n      Validators.minLength(4),\r\n      Validators.maxLength(15)\r\n    ]),\r\n    userEmail: new FormControl(\"\", [\r\n      Validators.required,\r\n      Validators.minLength(12),\r\n      Validators.maxLength(35),\r\n      Validators.email\r\n    ]),\r\n    userPhone: new FormControl(\"\", [\r\n      Validators.required,\r\n      Validators.minLength(8),\r\n      Validators.maxLength(15)\r\n    ]),\r\n    userPass: new FormControl(\"\", [\r\n      Validators.required,\r\n      Validators.minLength(4),\r\n      Validators.maxLength(15)\r\n    ]),\r\n    userType: new FormControl(\"\", [\r\n      Validators.required,\r\n      Validators.minLength(1),\r\n      Validators.maxLength(1)\r\n    ]),\r\n\r\n\r\n  });\r\n\r\n  constructor(private registerService: UsuarioService, private router:Router) { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  onSubmit(): void {\r\n    const user = this.myForm.value;\r\n    if(user.userName === '' || user.userLastName === '' || user.userPass === '' || user.userEmail === '' \r\n        || user.userPhone === ''){\r\n      this.credentialsInvalid = true;\r\n      this.messageError = 'Faltan campos a ingresar';\r\n      setTimeout(() => {this.credentialsInvalid = false;},3500);\r\n      return;\r\n    }\r\n    const usuario: usuario = {\r\n      nombre:       user.userName,\r\n      apellido:     user.userLastName,\r\n      correo:       user.userEmail,\r\n      password:     user.userPass,\r\n      editorial:    \"editorial 1\",\r\n      telefono:     user.userPhone,\r\n      idRol:        +user.userType,\r\n      id_rol:       +user.userType,\r\n      estado:       1\r\n    }\r\n    console.log('***' ,usuario);\r\n    this.registerService.postRegistro(usuario).subscribe((data: {msg:string})=> {\r\n      console.log(data)\r\n      if(data.msg === 'Ya existe un usuario con ese correo'){        \r\n        this.messageError = data.msg;\r\n        this.credentialsInvalid = true;\r\n        setTimeout(() => {this.credentialsInvalid = false;},3500);\r\n        return;\r\n      }\r\n      console.log(data, 'adentro');\r\n      this.router.navigateByUrl('/login');\r\n    }, error => {\r\n      this.credentialsInvalid = true;\r\n      this.messageError = 'Problemas al ingresar las credenciales';\r\n      console.log(error, 'error');\r\n      setTimeout(() => {this.credentialsInvalid = false;},3500);\r\n    })\r\n  }\r\n\r\n  onSubmitRest(): void {\r\n\r\n  }\r\n}\r\n","<div class=\"container\">\r\n  <div id=\"cuadro\" class=\"d-flex justify-content-center h-100\">\r\n    <div class=\"card\">\r\n      <div class=\"card-body\">\r\n        <ul ngbNav #nav=\"ngbNav\" [(activeId)]=\"active\" class=\"nav nav-pills nav-justified\">\r\n          <li [ngbNavItem]=\"1\" id=\"itemTabI\">\r\n            <a ngbNavLink id=\"itemTab\">Cliente</a>\r\n            <ng-template ngbNavContent>\r\n              \r\n              <form [formGroup]=\"myForm\" (ngSubmit)=\"onSubmit()\">\r\n                <div class=\"input-group form-group\">\r\n                    <div class=\"input-group-prepend\">\r\n                      <span class=\"input-group-text\"\r\n                        ><i class=\"fas fa-user\"></i\r\n                      ></span>\r\n                    </div>\r\n                    <input\r\n                      [class.is-invalid]=\"\r\n                        myForm.get('userName').touched &&\r\n                        myForm.get('userName').invalid\r\n                      \"\r\n                      type=\"text\"\r\n                      class=\"form-control\"\r\n                      placeholder=\"nombre\"\r\n                      formControlName=\"userName\"\r\n                      autofocus\r\n                    />\r\n                  </div>\r\n            \r\n                  <div class=\"input-group form-group\">\r\n                    <div class=\"input-group-prepend\">\r\n                      <span class=\"input-group-text\"\r\n                        ><i class=\"fas fa-user-plus\"></i\r\n                      ></span>\r\n                    </div>\r\n                    <input\r\n                      [class.is-invalid]=\"\r\n                        myForm.get('userLastName').touched &&\r\n                        myForm.get('userLastName').invalid\r\n                      \"\r\n                      type=\"text\"\r\n                      class=\"form-control\"\r\n                      placeholder=\"apellido\"\r\n                      formControlName=\"userLastName\"\r\n                      autofocus\r\n                    />\r\n                  </div>\r\n            \r\n                  <div class=\"input-group form-group\">\r\n                    <div class=\"input-group-prepend\">\r\n                      <span class=\"input-group-text\"\r\n                        ><i class=\"fas fa-phone\"></i\r\n                      ></span>\r\n                    </div>\r\n                    <input\r\n                      [class.is-invalid]=\"\r\n                        myForm.get('userPhone').touched &&\r\n                        myForm.get('userPhone').invalid\r\n                      \"\r\n                      type=\"text\"\r\n                      class=\"form-control\"\r\n                      placeholder=\"telfono\"\r\n                      formControlName=\"userPhone\"\r\n                      autofocus\r\n                    />\r\n                  </div>\r\n            \r\n              <div class=\"input-group form-group\">\r\n                <div class=\"input-group-prepend\">\r\n                  <span class=\"input-group-text\"\r\n                    ><i class=\"fas fa-envelope\"></i\r\n                  ></span>\r\n                </div>\r\n                <input\r\n                  [class.is-invalid]=\"\r\n                    myForm.get('userEmail').touched &&\r\n                    myForm.get('userEmail').invalid\r\n                  \"\r\n                  type=\"email\"\r\n                  class=\"form-control\"\r\n                  placeholder=\"correo\"\r\n                  formControlName=\"userEmail\"\r\n                  autofocus\r\n                />\r\n              </div>\r\n              <div class=\"input-group form-group\">\r\n                <div class=\"input-group-prepend\">\r\n                  <span class=\"input-group-text\"><i class=\"fas fa-key\"></i></span>\r\n                </div>\r\n                <input\r\n                  [class.is-invalid]=\"\r\n                    myForm.get('userPass').touched && myForm.get('userPass').invalid\r\n                  \"\r\n                  type=\"password\"\r\n                  class=\"form-control\"\r\n                  placeholder=\"contrasea\"\r\n                  formControlName=\"userPass\"\r\n                />\r\n              </div>\r\n\r\n                  <div class=\"input-group form-group\">\r\n                 \r\n                    <input\r\n                      [class.is-invalid]=\"\r\n                        myForm.get('userType').touched &&\r\n                        myForm.get('userType').invalid\r\n                      \"\r\n                      type=\"text\"\r\n                      class=\"form-control\"\r\n                      placeholder=\"Tipo de usuario\"\r\n                      formControlName=\"userType\"\r\n                      autofocus\r\n                    />\r\n                  </div>\r\n\r\n\r\n              <div class=\"form-group\">\r\n                <input\r\n                  type=\"submit\"\r\n                  value=\"Enviar\"\r\n                  class=\"btn float-right login_btn\"\r\n                />\r\n              </div>\r\n            </form>\r\n            <div\r\n              *ngIf=\"credentialsInvalid\"\r\n              class=\"alert alert-danger\"\r\n              role=\"alert\"\r\n              id=\"alertaLogin\"\r\n            >\r\n              <button\r\n                type=\"button\"\r\n                class=\"close\"\r\n                data-dismiss=\"alert\"\r\n                aria-label=\"Close\"\r\n              >\r\n                <span aria-hidden=\"true\">&times;</span>\r\n              </button>\r\n              <strong>Error</strong> {{this.messageError}}\r\n            </div>\r\n            </ng-template>\r\n          </li>\r\n          <li [ngbNavItem]=\"2\">\r\n            <a ngbNavLink>Editorial</a>\r\n            <ng-template ngbNavContent>\r\n\r\n              <form [formGroup]=\"myFormRest\" (ngSubmit)=\"onSubmitRest()\">\r\n                <div class=\"input-group form-group\">\r\n                  <div class=\"input-group-prepend\">\r\n                    <span class=\"input-group-text\"\r\n                      ><i class=\"fas fa-building\"></i\r\n                    ></span>\r\n                  </div>\r\n                  <input\r\n                    [class.is-invalid]=\"\r\n                      myFormRest.get('EditorialName').touched &&\r\n                      myFormRest.get('EditorialName').invalid\r\n                    \"\r\n                    type=\"text\"\r\n                    class=\"form-control\"\r\n                    placeholder=\"nombre editorial\"\r\n                    formControlName=\"EditorialName\"\r\n                    autofocus\r\n                  />\r\n                </div>\r\n               \r\n                <div class=\"input-group form-group\">\r\n                  <div class=\"input-group-prepend\">\r\n                    <span class=\"input-group-text\"\r\n                      ><i class=\"fas fa-key\"></i\r\n                    ></span>\r\n                  </div>\r\n                  <input\r\n                    id=\"testPassword\"\r\n                    [class.is-invalid]=\"\r\n                       myFormRest.get('EditorialPass').touched && \r\n                       myFormRest.get('EditorialPass').invalid\"\r\n                    type=\"password\"\r\n                    class=\"form-control\"\r\n                    placeholder=\"contrasea\"\r\n                    formControlName=\"EditorialPass\"\r\n                  />\r\n                </div>\r\n\r\n                <div class=\"input-group form-group\">\r\n                  <div class=\"input-group-prepend\">\r\n                    <span class=\"input-group-text\"><i class=\"fas fa-envelope\"></i></span>\r\n                  </div>\r\n                  <input\r\n                  id=\"testCorreo\"\r\n              [class.is-invalid]=\"\r\n                      myFormRest.get('EditorialEmail').touched && \r\n                      myFormRest.get('EditorialEmail').invalid\"\t\r\n                    type=\"email\"\r\n                    class=\"form-control\"\r\n                    placeholder=\"correo\"\r\n                    formControlName=\"EditorialEmail\"\r\n                  />\r\n                </div>\r\n                \r\n                <div class=\"input-group form-group\">\r\n                  <div class=\"input-group-prepend\">\r\n                    <span class=\"input-group-text\"><i class=\"fa fa-map-marker\"></i></span>\r\n                  </div>\r\n                  <input\r\n                    [class.is-invalid]=\"\r\n                      myFormRest.get('EditorialAddress').touched &&\r\n                      myFormRest.get('EditorialAddress').invalid\r\n                    \"\r\n                    type=\"text\"\r\n                    class=\"form-control\"\r\n                    placeholder=\"direccion\"\r\n                    formControlName=\"EditorialAddress\"\r\n                    autofocus\r\n                  />\r\n                </div>\r\n                <div class=\"form-group\">\r\n                  <input\r\n                    type=\"submit\"\r\n                    value=\"Enviar\"\r\n                    class=\"btn float-right login_btn\"\r\n                  />\r\n                </div>\r\n            \r\n              <div\r\n                *ngIf=\"credentialsInvalid\"\r\n                class=\"alert alert-danger\"\r\n                role=\"alert\"\r\n                id=\"alertaLogin\"\r\n              >\r\n                <button\r\n                  type=\"button\"\r\n                  class=\"close\"\r\n                  data-dismiss=\"alert\"\r\n                  aria-label=\"Close\"\r\n                >\r\n                  <span aria-hidden=\"true\">&times;</span>\r\n                </button>\r\n                <strong>Error</strong> {{this.messageError}}\r\n              </div>\r\n\r\n                \r\n            \r\n\r\n              </form>\r\n\r\n\r\n              \r\n            </ng-template>\r\n          </li>\r\n        </ul>\r\n        <div [ngbNavOutlet]=\"nav\" class=\"mt-2\"></div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { Router } from '@angular/router';\r\nimport { usuario } from '../models/user';\r\nimport { FormControl, FormGroup, Validators } from \"@angular/forms\";\r\nimport { NgbModal } from '@ng-bootstrap/ng-bootstrap';\r\nimport { URLs } from '../urls/urls';\r\n\r\n@Component({\r\n  selector: 'app-usuarios',\r\n  templateUrl: './usuarios.component.html',\r\n  styleUrls: ['./usuarios.component.css']\r\n})\r\nexport class UsuariosComponent implements OnInit {\r\n\r\n  myURL = new URLs();\r\n  url: string = this.myURL.url_Usuarios;\r\n  url_eliminar: string = this.myURL.url_Eliminar_Usuario;\r\n  url_editar: string = this.myURL.url_Actualizar_Usuario;\r\n  public listaUsuarios = []\r\n  error;\r\n\r\n  constructor(private router: Router, private http: HttpClient, private modal:NgbModal) { \r\n\r\n    this.http.get(this.url).subscribe((data:usuario[])=> {//data es la respuesta\r\n      this.listaUsuarios = data;\r\n\r\n\r\n      },error => this.error = error);\r\n      \r\n  }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  myFormEditar = new FormGroup({\r\n    _id: new FormControl(\"\"),\r\n    nombre: new FormControl(\"\"),\r\n    apellido: new FormControl(\"\"),\r\n    correo: new FormControl(\"\"),\r\n    password: new FormControl(\"\"),\r\n    editorial: new FormControl(\"\"),\r\n    telefono: new FormControl(\"\"),\r\n    id_rol: new FormControl(\"\"),\r\n    estado: new FormControl(\"\"),\r\n  });\r\n\r\n  abrirCentrado(contenido){\r\n    this.modal.open(contenido,{centered:true});\r\n  }\r\n\r\n  eliminarUsuario(usuario){\r\n    var res;\r\n    this.http.post(this.url_eliminar, usuario).subscribe((data:[])=> {//data es la respuesta\r\n      res = data;\r\n      location.reload();\r\n      },error => this.error = error);\r\n  }\r\n\r\n  editar(usuario, abrir){\r\n    localStorage.setItem('user-edit', JSON.stringify(usuario));\r\n\r\n    this.myFormEditar.setValue({\r\n        \"_id\": JSON.parse(localStorage.getItem('user-edit'))._id,\r\n        \"nombre\": JSON.parse(localStorage.getItem('user-edit')).nombre,\r\n        \"apellido\": JSON.parse(localStorage.getItem('user-edit')).apellido,\r\n        \"correo\": JSON.parse(localStorage.getItem('user-edit')).correo,\r\n        \"password\": JSON.parse(localStorage.getItem('user-edit')).password,\r\n        \"telefono\": JSON.parse(localStorage.getItem('user-edit')).telefono,\r\n        \"id_rol\": JSON.parse(localStorage.getItem('user-edit')).id_rol,\r\n        \"estado\": JSON.parse(localStorage.getItem('user-edit')).estado,\r\n        \"editorial\": JSON.parse(localStorage.getItem('user-edit')).editorial\r\n    })\r\n\r\n    this.abrirCentrado(abrir);\r\n    \r\n  }\r\n\r\n  editarUsuario(){\r\n    var editado = this.myFormEditar.value;\r\n    var res;\r\n\r\n    this.http.put(this.url_editar, editado).subscribe((data:usuario[])=> {//data es la respuesta\r\n      res = data;\r\n      location.reload();\r\n      },error => this.error = error); \r\n  }\r\n\r\n  eliminarUsuarioStorage(){\r\n    localStorage.removeItem('user-edit');\r\n  }\r\n\r\n}\r\n","<html>\r\n<head>\r\n    <style type=\"text/css\" ref=\"\" ></style>\r\n</head>\r\n<body>\r\n    <div align=\"right\" class=\"encabezado\">\r\n      \r\n    </div>\r\n    <div class=\"card\">\r\n\r\n        <div id=\"titulo\">\r\n            <h2 id=\"testProductos\">USUARIOS</h2>\r\n          </div>\r\n          <br /><br />\r\n       \r\n        <div  class=\"libros\" >\r\n            <div class=\"row\">\r\n                <div  *ngFor=\"let pro of listaUsuarios\" class=\"col-xs-10 col-sm-6 col-md-4 product\">\r\n                 <div class=\"tarjeta\" >\r\n                     <h5>{{pro.nombre}}</h5>\r\n                     <h5>{{pro.apellido}}</h5>\r\n                     <h5>{{pro.correo}}</h5>\r\n                     <h5>Rol:{{pro.id_rol}}</h5>\r\n                     <button class=\"editar\" (click)=\"editar(pro, contenidoEditar)\">Editar</button>\r\n                     <button class=\"eliminar\" (click)=\"eliminarUsuario(pro)\">Eliminar</button>\r\n                     </div>\r\n                </div>\r\n            </div>\r\n     \r\n        </div>\r\n        \r\n    </div>\r\n\r\n    <ng-template #contenidoEditar let-modal>\r\n        <div class=\"modal-header\">\r\n            <h4 class=\"modal-title\">Editar Usuario</h4>\r\n            <button class=\"close\" aria-label=\"close\" type=\"button\" (click)=\"eliminarUsuarioStorage();modal.dismiss(); \">\r\n            <span aria-hidden=\"true\">&times;</span>\r\n            </button>\r\n        </div>\r\n        \r\n        <div class=\"modal-body\">\r\n            <form [formGroup]=\"myFormEditar\">\r\n                <div class=\"form-group\">\r\n                    <input readonly type=\"text\" class=\"form-control\" placeholder=\"Correo\" formControlName=\"correo\"/>\r\n                </div>\r\n\r\n                <div class=\"form-group\">\r\n                    <input type=\"text\" class=\"form-control\" placeholder=\"Estado\" formControlName=\"estado\"/>\r\n                </div>\r\n            </form>\r\n        </div>\r\n        \r\n        <div class=\"modal-footer\">\r\n            <button type=\"button\" [disabled]=\"myFormEditar.invalid\" class=\"btn btn-success\" (click)=\"editarUsuario()\">\r\n            Editar\r\n            </button>\r\n\r\n            <button\r\n            type=\"button\"\r\n            class=\"btn btn-danger\"\r\n            (click)=\"eliminarUsuarioStorage();modal.close();\"\r\n            >\r\n            Salir\r\n            </button>\r\n        </div>\r\n        <p *ngIf=\"showAlert\">\r\n            <ngb-alert type=\"{{ tipoAlert }}\" (closed)=\"staticAlertClosed = true\">{{\r\n            messageError\r\n            }}</ngb-alert>\r\n        </p>\r\n    </ng-template>\r\n\r\n</body>\r\n</html>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { NgbModal } from '@ng-bootstrap/ng-bootstrap';\r\nimport { FormControl, FormGroup, Validators } from \"@angular/forms\";\r\nimport { Router } from '@angular/router';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { get_solicitud } from '../models/solicitud';\r\nimport { nuevo_libro, libro } from '../models/libro';\r\nimport { URLs } from '../urls/urls';\r\n\r\n@Component({\r\n  selector: 'app-ver-solicitudes',\r\n  templateUrl: './ver-solicitudes.component.html',\r\n  styleUrls: ['./ver-solicitudes.component.css']\r\n})\r\nexport class VerSolicitudesComponent implements OnInit {\r\n\r\n  myURL = new URLs();\r\n  url_get: string = this.myURL.url_getSolicitudes\r\n  url_eliminar: string = this.myURL.url_deleteSolicitudes //URL para eliminar la solicitud\r\n  url_crear: string =  this.myURL.url_crear //URL para crear el libro en base a la solicitud\r\n  url_newBitacora: string = this.myURL.url_newBitacora;\r\n\r\n  public lista_solicitudes: get_solicitud[] = []\r\n  error;\r\n\r\n  constructor(private http: HttpClient, private modal:NgbModal, private router : Router) {\r\n\r\n    this.http.get(this.url_get).subscribe((data:get_solicitud[])=> {//data es la respuesta\r\n      this.lista_solicitudes = data;\r\n\r\n\r\n    },error => this.error = error);\r\n\r\n   }\r\n\r\n  ngOnInit(): void {\r\n    try{\r\n      var u = localStorage.getItem('usuario');\r\n      var usuario = JSON.parse(u);\r\n      if(usuario.id_rol != 2){\r\n        this.router.navigate([\"denegado\"]);\r\n      }\r\n    } catch(error){\r\n      this.router.navigate([\"denegado\"]);\r\n    }\r\n  }\r\n\r\n  myBitacora = new FormGroup({\r\n    editorial: new FormControl(\"\"),\r\n    operacion: new FormControl(\"\"),\r\n    description: new FormControl(\"\")\r\n  });\r\n\r\n  aceptarSolicitud(libro){\r\n\r\n    var u = localStorage.getItem('usuario');\r\n    var usuario = JSON.parse(u);\r\n\r\n    var nuevo_libro: nuevo_libro = {\r\n      author:libro.autor,\r\n      category: \"\",\r\n      coverPage: libro.pdf,\r\n      description: \"\",\r\n      editorial: usuario.nombre,\r\n      price:0,\r\n      units:0,\r\n      title:libro.nombre\r\n    };\r\n\r\n    console.log(\"Nuevo libro\", nuevo_libro);\r\n\r\n    \r\n    var res;\r\n\r\n    this.http.post(this.url_crear, nuevo_libro).subscribe((data:libro[])=> {//data es la respuesta\r\n      res = data;\r\n      this.crearBitacora(\"Aceptar solicitud de libro\",`Titulo: ${libro.nombre}`);\r\n      this.eliminarSolicitud(libro);\r\n\r\n    },error => this.error = error); \r\n\r\n  }\r\n\r\n  eliminarSolicitud(libro){\r\n    var res1;\r\n    this.http.post(this.url_eliminar, libro).subscribe((data1:[])=> {//data es la respuesta\r\n      res1 = data1;\r\n      location.reload();\r\n    },error => this.error = error); \r\n  }\r\n\r\n  crearBitacora(tipoOperacion,descripcion){\r\n    var res;\r\n    var creado;\r\n\r\n    this.myBitacora.setValue({\r\n      \"editorial\": JSON.parse(localStorage.getItem('usuario')).nombre,\r\n      \"operacion\": tipoOperacion,\r\n      \"description\": descripcion\r\n    })\r\n\r\n    creado = this.myBitacora.value;\r\n\r\n    this.http.post(this.url_newBitacora, creado).subscribe((data:libro[])=> {\r\n      console.log(\"Valor de res\", res)\r\n      },error => this.error = error); \r\n  }\r\n\r\n}\r\n","<html>\r\n<head>\r\n    <style type=\"text/css\" ref=\"\" ></style>\r\n</head>\r\n<body>\r\n    <div align=\"right\" class=\"encabezado\">\r\n      \r\n    </div>\r\n    <div class=\"card\">\r\n\r\n        <div id=\"titulo\">\r\n            <h2 id=\"testProductos\">SOLICITUDES</h2>\r\n          </div>\r\n          <br /><br />\r\n       \r\n        <div  class=\"libros\" >\r\n            <div class=\"row\">\r\n                <div  *ngFor=\"let pro of lista_solicitudes\" class=\"col-xs-10 col-sm-6 col-md-4 product\">\r\n                 <div class=\"tarjeta\" >\r\n                    <img src=\"data:image/png;base64,{{pro.pdf}}\" alt=\" \" />\r\n                     <h5>Nombre: {{pro.nombre}}</h5>\r\n                     <h5>Autor: {{pro.autor}}</h5>\r\n                     <h5>Publicacion: {{pro.primera_publicacion}}</h5>\r\n                     <button class=\"editar\" \r\n                     (click)=\"aceptarSolicitud(pro);\">Aceptar</button>\r\n                     </div>\r\n                </div>\r\n            </div>\r\n     \r\n        </div>\r\n        \r\n    </div>\r\n</body>\r\n</html>\r\n\r\n","<html>\r\n<head>\r\n    <style type=\"text/css\" ref=\"\" ></style>\r\n</head>\r\n<body>\r\n    <div align=\"right\" class=\"encabezado\">\r\n      \r\n      \r\n    </div>\r\n    <div class=\"card\">\r\n        \r\n        <h1 id=\"testInicio\">CATALOGO DE PRODUCTOS</h1>\r\n       \r\n        <div  class=\"productos\">\r\n            \r\n            <div class=\"row\">\r\n                <div  *ngFor=\"let pro of listaproductos\" class=\"col-xs-10 col-sm-6 col-md-4 product\">\r\n                 \r\n                 <div align=\"left\" class=\"tarjeta\" >\r\n                     <img src=\"data:image/png;base64,{{pro.coverPage}}\" alt=\" \" />\r\n                     <h4  align=\"left\">{{pro.title}}</h4>\r\n                     <h5  align=\"left\">Precio:  Q.{{pro.price}}</h5>\r\n                     <h5  align=\"left\">Descripcion: {{pro.description}}</h5>\r\n                     <h5  align=\"left\">Autor: {{pro.author}}</h5>\r\n                     <h5  align=\"left\">Stock: {{pro.units}}</h5>\r\n                     <button (click)=\"mandarObjeto(pro)\">Agregar al carrito</button>\r\n                    \r\n                     </div>\r\n\r\n                   \r\n                </div>\r\n            </div>\r\n     \r\n        </div>\r\n        \r\n    </div>\r\n    \r\n</body>\r\n</html>\r\n\r\n","import { HttpClient } from '@angular/common/http';\r\nimport { THIS_EXPR } from '@angular/compiler/src/output/output_ast';\r\nimport { Component } from '@angular/core';\r\n\r\n\r\n\r\n\r\n@Component({\r\n  selector: 'app-home',\r\n  templateUrl: './home.component.html',\r\n  styleUrls: ['./home.component.css']\r\n\r\n})\r\n\r\n\r\nexport class HomeComponent {\r\n  \r\n  public listaproductos = [] //esta ya no entra los que tiene stock en 0\r\n  public listaproductos2 = [] //esta recibe todos\r\n  url: string = 'http://34.134.68.224:47005/book/getBooks'; //obtener catalogo \r\n  error;\r\n  datos:any[]\r\n\r\n\r\n  constructor(private http: HttpClient) {\r\n   \r\n    if(localStorage.getItem('productoscarrito')){\r\n      this.listacarrito=JSON.parse(localStorage.getItem('productoscarrito'))\r\n    }\r\n    \r\n    this.http.get(this.url).subscribe((data:any)=> {//data es la respuesta\r\n      \r\n      this.listaproductos2=data; //data.datos\r\n      for (let elemento of this.listaproductos2) { \r\n        if( elemento.units!=\"0\"){\r\n          this.listaproductos.push(elemento)\r\n        }\r\n       }\r\n     \r\n      },error => this.error = error);\r\n      \r\n     \r\n  \r\n  }\r\n   // <---\r\n  \r\n   public listacarrito = []\r\n    mandarObjeto(pro) {   // <---\r\n    this.listacarrito.push(pro)\r\n    localStorage.setItem('productoscarrito', JSON.stringify(this.listacarrito));\r\n    \r\n  }\r\n\r\n\r\n\r\n}\r\n","// This file can be replaced during build by using the `fileReplacements` array.\r\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\r\n// The list of file replacements can be found in `angular.json`.\r\n\r\nexport const environment = {\r\n  production: false\r\n};\r\n\r\n/*\r\n * For easier debugging in development mode, you can import the following file\r\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\r\n *\r\n * This import should be commented out in production mode because it will have a negative impact\r\n * on performance if an error is thrown.\r\n */\r\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\r\n","import { Component, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-denegado',\r\n  templateUrl: './denegado.component.html',\r\n  styleUrls: ['./denegado.component.css']\r\n})\r\nexport class DenegadoComponent implements OnInit {\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n}\r\n","<div id=\"titulo\">\r\n    <h1>403</h1>\r\n    <h3>Forbidden</h3>\r\n</div>","import { Injectable } from '@angular/core';\r\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\r\nimport {Router} from '@angular/router';\r\nimport { producto, productoE } from '../models/producto';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class ProductoService {\r\n\r\n  //API_URI = \"http://35.239.187.92:4010\";\r\n  API_URI = \"http://35.202.232.78:4010\";\r\n\r\n  constructor(private http: HttpClient, private route: Router) { }\r\n\r\n  getProductos(id){\r\n    return this.http.get(`${this.API_URI}/producto/leer-productos/1/${id}`);\r\n  }\r\n\r\n  getCategorias(){\r\n    return this.http.get(`${this.API_URI}/producto/leer-categorias`);\r\n  }\r\n\r\n  postProducto(producto: producto){\r\n    return this.http.post(`${this.API_URI}/producto/crear-producto`, producto);\r\n  }\r\n\r\n  putProducto(producto: productoE){\r\n    return this.http.put(`${this.API_URI}/producto/editar-producto`, producto);\r\n  }\r\n\r\n  deleteProducto(producto){\r\n    const options = {\r\n      headers: new HttpHeaders({\r\n        'Content-Type': 'application/json',\r\n      }),\r\n      body: producto,\r\n    };\r\n    return this.http.delete(`${this.API_URI}/producto/eliminar-producto`, options);\r\n  }\r\n}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { FormControl, FormGroup, FormBuilder, Validators } from \"@angular/forms\";\r\nimport { HttpClient } from '@angular/common/http';\r\nimport {Router} from '@angular/router';\r\nimport { URLs } from '../urls/urls';\r\n\r\nimport { solicitud } from \"../models/solicitud\";\r\n\r\n@Component({\r\n  selector: 'app-solicitar-libro',\r\n  templateUrl: './solicitar-libro.component.html',\r\n  styleUrls: ['./solicitar-libro.component.css']\r\n})\r\nexport class SolicitarLibroComponent implements OnInit {\r\n\r\n  myURL = new URLs();\r\n  url: string = this.myURL.url_solicitarLibro;\r\n  imagen = '';\r\n  imag64 = '';\r\n  error;\r\n\r\n  constructor(private router: Router, private http: HttpClient) { }\r\n\r\n  ngOnInit(): void {\r\n    try{\r\n      var u = localStorage.getItem('usuario');\r\n      var usuario = JSON.parse(u);\r\n      if(usuario.id_rol != 3){\r\n        this.router.navigate([\"denegado\"]);\r\n      }\r\n    } catch(error){\r\n      this.router.navigate([\"denegado\"]);\r\n    }\r\n  }\r\n\r\n  handleUpload(event) {\r\n\r\n    const file = event.target.files[0];\r\n    const reader = new FileReader();\r\n    reader.readAsDataURL(file);\r\n    reader.onload = () => {\r\n        const imagen: string = reader.result.toString();\r\n        const sinMetadata: string = imagen.split(';base64,')[1];\r\n        this.imagen = reader.result.toString();\r\n        this.imag64 = sinMetadata;\r\n    };\r\n  }\r\n\r\n  myForm = new FormGroup({\r\n    nombre: new FormControl(\"\"),\r\n    autor: new FormControl(\"\"),\r\n    primera_publicacion: new FormControl(\"\"),\r\n    pdf: new FormControl(\"\")\r\n  });\r\n\r\n  get primera_publicacion(){\r\n    return this.myForm.get('primera_publicacion')\r\n  }\r\n  get nombre(){\r\n    return this.myForm.get('nombre')\r\n  }\r\n  get autor(){\r\n    return this.myForm.get('autor')\r\n  }\r\n\r\n  onSubmit(): void {\r\n    var solicitud = this.myForm.value;\r\n\r\n    if(this.imagen != '')\r\n    {\r\n      this.myForm.setValue({\r\n        \"nombre\":solicitud.nombre,\r\n        \"autor\":solicitud.autor,\r\n        \"primera_publicacion\":solicitud.primera_publicacion,\r\n        \"pdf\": this.imag64\r\n      })\r\n    }\r\n    else\r\n    {\r\n      this.myForm.setValue({\r\n        \"nombre\":solicitud.nombre,\r\n        \"autor\":solicitud.autor,\r\n        \"primera_publicacion\":solicitud.primera_publicacion,\r\n        \"pdf\": \"\"\r\n      })\r\n    }\r\n\r\n    solicitud = this.myForm.value;\r\n\r\n    var res;\r\n    \r\n    this.http.post(this.url, solicitud).subscribe((data:solicitud[])=> {//data es la respuesta\r\n      res = data;\r\n      console.log(\"Res\", res)\r\n      location.reload();\r\n    },error => this.error = error); \r\n  }\r\n\r\n}\r\n","<div class=\"container\">\r\n    <div id=\"cuadro\" class=\"d-flex justify-content-center h-100\">\r\n        <div class=\"card\">\r\n            <div class=\"card-header\">\r\n                <h3>Solicitar Libro</h3>\r\n            </div>\r\n\r\n            <div class=\"card-body\">\r\n                <form #registerForm=\"ngForm\" [formGroup]=\"myForm\" (ngSubmit)=\"onSubmit()\">\r\n                    <div class=\"input-group form-group\">\r\n                        <div class=\"input-group-prepend\">\r\n                            <span class=\"input-group-text\"><i class=\"fas fa-book\"></i></span>\r\n                        </div>\r\n                        <input id=\"libro\" class=\"form-control\" placeholder=\"Nombre de Libro\" \r\n                            formControlName=\"nombre\" autofocus required/>\r\n                    </div>\r\n\r\n                    <div class=\"input-group form-group\">\r\n                        <div class=\"input-group-prepend\">\r\n                            <span class=\"input-group-text\"><i class=\"fas fa-user-edit\"></i></span>\r\n                        </div>\r\n                        <input id=\"libro\" class=\"form-control\" placeholder=\"Autor\" \r\n                            formControlName=\"autor\" autofocus required/>\r\n                    </div>\r\n\r\n                    <div class=\"input-group form-group\" >\r\n                        <div class=\"input-group-prepend\">\r\n                            <span class=\"input-group-text\"><i class=\"fas fa-calendar-check\"></i></span>\r\n                        </div>\r\n                        <input id=\"libro\" class=\"form-control\" placeholder=\"Fecha Primera Publicacion\" \r\n                            formControlName=\"primera_publicacion\" autofocus required\r\n                            pattern=\"^(0[1-9]|[12][0-9]|3[01])[- /.](0[1-9]|1[012])[- /.](19|20)\\d\\d$\" />\r\n                    </div>\r\n                    <div *ngIf=\"primera_publicacion.errors?.pattern\">\r\n                        <h12 class=\"text-warning\">El formato de la fecha es 'dd/mm/yyyy'</h12>\r\n                    </div> \r\n\r\n                    <div class=\"form-group\">\r\n                        <input class=\"text-warning\" id=\"inputUpload\" type=\"file\" (change)=\"handleUpload($event)\"/>\r\n                    </div>\r\n\r\n                    <div class=\"form-group\">\r\n                        <input id=\"testButton\" type=\"submit\" value=\"Solicitar\" class=\"btn float-right login_btn\" \r\n                        [disabled]=\"!registerForm.valid\"/>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>","import { Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { log } from '../models/log';\r\nimport { URLs } from '../urls/urls';\r\n\r\n@Component({\r\n  selector: 'app-log-editorial',\r\n  templateUrl: './log-editorial.component.html',\r\n  styleUrls: ['./log-editorial.component.css']\r\n})\r\nexport class LogEditorialComponent implements OnInit {\r\n\r\n  myURL = new URLs();\r\n  url_get: string = this.myURL.url_getBitacora;\r\n  public lista_log: log[]  = [];\r\n  error;\r\n\r\n  constructor(private http: HttpClient, private router : Router) { \r\n\r\n    this.http.get(this.url_get).subscribe((data:log[])=> {//data es la respuesta\r\n      this.lista_log = data;\r\n\r\n\r\n    },error => this.error = error);\r\n\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    try{\r\n      var u = localStorage.getItem('usuario');\r\n      var usuario = JSON.parse(u);\r\n      if(usuario.id_rol != 1){\r\n        this.router.navigate([\"denegado\"]);\r\n      }\r\n    } catch(error){\r\n      this.router.navigate([\"denegado\"]);\r\n    }\r\n  }\r\n\r\n}\r\n","<html>\r\n<head>\r\n    <style type=\"text/css\" ref=\"\" ></style>\r\n</head>\r\n<body>\r\n    <div align=\"right\" class=\"encabezado\">\r\n      \r\n    </div>\r\n    <div class=\"card\">\r\n\r\n        <div id=\"titulo\">\r\n            <h2 id=\"testProductos\">LOG EDITORIALES</h2>\r\n          </div>\r\n          <br /><br />\r\n       \r\n        <div  class=\"libros\" >\r\n            <div class=\"row\">\r\n                <div  *ngFor=\"let pro of lista_log\" class=\"col-xs-10 col-sm-6 col-md-4 product\">\r\n                    <div class=\"tarjeta\" >\r\n                        <h5>Editorial: {{pro.editorial}}</h5>\r\n                        <h5>Accion: {{pro.operacion}}</h5>\r\n                        <h5>Fecha: {{pro.fecha}}</h5>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n     \r\n        </div>\r\n        \r\n    </div>\r\n</body>\r\n</html>\r\n\r\n","import { HttpClient } from '@angular/common/http';\r\nimport { Component } from '@angular/core';\r\nimport { libro } from '../models/libro';\r\nimport { nuevo_libro } from '../models/libro';\r\nimport { NgbModal } from '@ng-bootstrap/ng-bootstrap';\r\nimport { FormControl, FormGroup, Validators } from \"@angular/forms\";\r\nimport { Router } from '@angular/router';\r\nimport { URLs } from '../urls/urls';\r\n\r\n\r\n@Component({\r\n  selector: 'app-libros',\r\n  templateUrl: './libros.component.html',\r\n  styleUrls: ['./libros.component.css'],\r\n  /*\r\n  animations: [moveIn(), fallIn()],\r\n  host: { '[@moveIn': '' }\r\n  */\r\n})\r\n\r\n\r\nexport class LibrosComponent {\r\n  \r\n  showAlert = false;\r\n  tipoAlert = 'success';\r\n  messageError = '';\r\n  imagen = '';\r\n  imag64 = '';\r\n  public listalibros: libro[] = []\r\n  public lista_editorial: libro[] = []\r\n  \r\n  myURL = new URLs();\r\n  url: string = this.myURL.url;\r\n  url_editar: string = this.myURL.url_editar;\r\n  url_eliminar: string = this.myURL.url_eliminar;\r\n  url_crear: string = this.myURL.url_crear;\r\n  url_newBitacora: string = this.myURL.url_newBitacora;\r\n\r\n\r\n  error;\r\n  datos:any[]\r\n\r\n  constructor(private http: HttpClient, private modal:NgbModal, private router : Router) { \r\n    \r\n    var u = localStorage.getItem('usuario');\r\n    var usuario = JSON.parse(u);\r\n\r\n    this.http.get(this.url).subscribe((data:libro[])=> {//data es la respuesta\r\n      this.listalibros = data;\r\n      this.lista_editorial = this.listalibros.filter(libro => libro.editorial == usuario.nombre)\r\n\r\n\r\n      },error => this.error = error);\r\n      \r\n  }\r\n   // <---\r\n    \r\n  ngOnInit(): void {\r\n    try{\r\n      var u = localStorage.getItem('usuario');\r\n      var usuario = JSON.parse(u);\r\n      if(usuario.id_rol != 2){\r\n        this.router.navigate([\"denegado\"]);\r\n      }\r\n    } catch(error){\r\n      this.router.navigate([\"denegado\"]);\r\n    }\r\n    \r\n  }\r\n   \r\n  myFormEditar = new FormGroup({\r\n    _id: new FormControl(\"\"),\r\n    author: new FormControl(\"\"),\r\n    category: new FormControl(\"\"),\r\n    coverPage: new FormControl(\"\"),\r\n    description: new FormControl(\"\"),\r\n    price: new FormControl(\"\"),\r\n    title: new FormControl(\"\"),\r\n    units: new FormControl(\"\"),\r\n    editorial: new FormControl(\"\")\r\n  });\r\n\r\n  myFormCrear = new FormGroup({\r\n    author: new FormControl(\"\"),\r\n    category: new FormControl(\"\"),\r\n    coverPage: new FormControl(\"\"),\r\n    description: new FormControl(\"\"),\r\n    price: new FormControl(\"\"),\r\n    title: new FormControl(\"\"),\r\n    units: new FormControl(\"\"),\r\n    editorial: new FormControl(\"\")\r\n  });\r\n\r\n  myBitacora = new FormGroup({\r\n    editorial: new FormControl(\"\"),\r\n    operacion: new FormControl(\"\"),\r\n    description: new FormControl(\"\")\r\n  });\r\n\r\n  handleUpload(event) {\r\n\r\n    const file = event.target.files[0];\r\n    const reader = new FileReader();\r\n    reader.readAsDataURL(file);\r\n    reader.onload = () => {\r\n        const imagen: string = reader.result.toString();\r\n        const sinMetadata: string = imagen.split(';base64,')[1];\r\n        this.imagen = reader.result.toString();\r\n        this.imag64 = sinMetadata;\r\n    };\r\n  }\r\n  \r\n  abrirCentrado(contenido){\r\n    this.modal.open(contenido,{centered:true});\r\n  }\r\n\r\n  crear(abrir){\r\n    this.abrirCentrado(abrir);\r\n  }\r\n\r\n  \r\n  crearLibro(){\r\n    var res;\r\n    \r\n    var creado = this.myFormCrear.value;\r\n\r\n    if(this.imagen != ''){\r\n      this.myFormCrear.setValue({\r\n        \"author\": creado.author,\r\n        \"category\": creado.category,\r\n        \"coverPage\": this.imag64,\r\n        \"description\": creado.description,\r\n        \"price\": creado.price,\r\n        \"title\": creado.title,\r\n        \"units\": creado.units,\r\n        \"editorial\": JSON.parse(localStorage.getItem('usuario')).nombre\r\n      })\r\n    }\r\n    else\r\n    {\r\n      this.myFormCrear.setValue({\r\n        \"coverPage\": '',\r\n        \"author\": creado.author,\r\n        \"category\": creado.category,\r\n        \"description\": creado.description,\r\n        \"price\": creado.price,\r\n        \"title\": creado.title,\r\n        \"units\": creado.units,\r\n        \"editorial\": JSON.parse(localStorage.getItem('usuario')).nombre\r\n      })\r\n    }\r\n\r\n    creado = this.myFormCrear.value;\r\n\r\n    console.log(\"valor creado\", creado);\r\n    \r\n    this.http.post(this.url_crear, creado).subscribe((data:libro[])=> {//data es la respuesta\r\n      res = data;\r\n      console.log(\"Valor de res\", res)\r\n      this.crearBitacora(\"Nuevo libro\",`Titulo: ${creado.title}`);\r\n      },error => this.error = error); \r\n\r\n    this.imagen = '';\r\n    this.imag64 = '';\r\n  }\r\n\r\n  editar(libro, abrir){\r\n    localStorage.setItem('producto', JSON.stringify(libro));\r\n\r\n    this.myFormEditar.setValue({\r\n        \"_id\": JSON.parse(localStorage.getItem('producto'))._id,\r\n        \"author\": JSON.parse(localStorage.getItem('producto')).author,\r\n        \"category\": JSON.parse(localStorage.getItem('producto')).category,\r\n        \"coverPage\": JSON.parse(localStorage.getItem('producto')).coverPage,\r\n        \"description\": JSON.parse(localStorage.getItem('producto')).description,\r\n        \"price\": JSON.parse(localStorage.getItem('producto')).price,\r\n        \"title\": JSON.parse(localStorage.getItem('producto')).title,\r\n        \"units\": JSON.parse(localStorage.getItem('producto')).units,\r\n        \"editorial\": JSON.parse(localStorage.getItem('producto')).editorial\r\n    })\r\n\r\n    this.abrirCentrado(abrir);\r\n\r\n    console.log(\"Libro\", libro)\r\n    \r\n  }\r\n\r\n  editarLibro(){\r\n    var editado = this.myFormEditar.value;\r\n    var res;\r\n    \r\n    this.http.post(this.url_editar, editado).subscribe((data:libro[])=> {//data es la respuesta\r\n      res = data;\r\n      this.crearBitacora(\"Editar libro\",`Titulo: ${res.title}`);\r\n      },error => this.error = error); \r\n  }\r\n\r\n  \r\n  eliminarLibroStorage(){\r\n    localStorage.removeItem('producto');\r\n  }\r\n\r\n  eliminarLibro(libro){\r\n    var res;\r\n    this.http.post(this.url_eliminar, libro).subscribe((data:[])=> {//data es la respuesta\r\n      res = data;\r\n      console.log(\"Valor de res\", res);\r\n      this.crearBitacora(\"Eliminar libro\",`Titulo: ${libro.title}`);\r\n      },error => this.error = error);\r\n  }\r\n\r\n  crearBitacora(tipoOperacion,descripcion){\r\n    var res;\r\n    var creado;\r\n\r\n    this.myBitacora.setValue({\r\n      \"editorial\": JSON.parse(localStorage.getItem('usuario')).nombre,\r\n      \"operacion\": tipoOperacion,\r\n      \"description\": descripcion\r\n    })\r\n\r\n    creado = this.myBitacora.value;\r\n\r\n    this.http.post(this.url_newBitacora, creado).subscribe((data:[])=> {\r\n      res = data;\r\n      console.log(\"Valor de res\", res);\r\n      location.reload();\r\n      },error => this.error = error); \r\n  }\r\n\r\n}\r\n","<html>\r\n<head>\r\n    <style type=\"text/css\" ref=\"\" ></style>\r\n</head>\r\n<body>\r\n    <div align=\"right\" class=\"encabezado\">\r\n      \r\n    </div>\r\n    <div class=\"card\">\r\n\r\n        <div id=\"titulo\">\r\n            <h2 id=\"testProductos\">TUS LIBROS</h2>\r\n          </div>\r\n          <br /><br />\r\n          <div class=\"container\">\r\n            <div id=\"botones\" class=\"row justify-content-center\">\r\n              <div class=\"col-xs-12 col-sm-6 col-md-4 col-lg-2\">\r\n                <button id=\"modalTest\" type=\"button\" class=\"crear\" (click)=\"crear(contenidoCrear)\"> Crear </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n       \r\n        <div  class=\"libros\" >\r\n            <div class=\"row\">\r\n                <div  *ngFor=\"let pro of lista_editorial\" class=\"col-xs-10 col-sm-6 col-md-4 product\">\r\n                 <div class=\"tarjeta\" >\r\n                    <img src=\"data:image/png;base64,{{pro.coverPage}}\" alt=\" \" />\r\n                     <h5>{{pro.title}}</h5>\r\n                     <h5>Q.{{pro.price}}</h5>\r\n                     <h5>Unidades:{{pro.units}}</h5>\r\n                     <button class=\"editar\" \r\n                     (click)=\"editar(pro, contenidoEditar);\">Editar</button>\r\n                     <button class=\"eliminar\" (click)=\"eliminarLibro(pro)\">Eliminar</button>\r\n                     </div>\r\n                </div>\r\n            </div>\r\n     \r\n        </div>\r\n        \r\n    </div>\r\n\r\n\r\n    <ng-template #contenidoEditar let-modal>\r\n        <div class=\"modal-header\">\r\n            <h4 class=\"modal-title\">Editar Libro</h4>\r\n            <button class=\"close\" aria-label=\"close\" type=\"button\" (click)=\"eliminarLibroStorage();modal.dismiss(); \">\r\n            <span aria-hidden=\"true\">&times;</span>\r\n            </button>\r\n        </div>\r\n        \r\n        <div class=\"modal-body\">\r\n            <form [formGroup]=\"myFormEditar\">\r\n                <div class=\"form-group\">\r\n                    <input type=\"text\" class=\"form-control\" placeholder=\"Titulo\" formControlName=\"title\" />\r\n                </div>\r\n                <div class=\"form-group\">\r\n                    <input type=\"text\" class=\"form-control\" placeholder=\"Autor\" formControlName=\"author\" />\r\n                </div>\r\n                <div class=\"form-group\">\r\n                    <input type=\"text\" class=\"form-control\" placeholder=\"Categoria\" formControlName=\"category\" />\r\n                </div>\r\n                <div class=\"form-group\">\r\n                    <input type=\"number\" class=\"form-control\" placeholder=\"Precio\" formControlName=\"price\" />\r\n                </div>\r\n                <div class=\"form-group\">\r\n                    <input type=\"number\" class=\"form-control\" placeholder=\"Unidades\" formControlName=\"units\" />\r\n                </div>\r\n                <div class=\"form-group\">\r\n                    <textarea class=\"form-control\" id=\"message-text\" placeholder=\"Descripcin\" formControlName=\"description\">\r\n\r\n                    </textarea>\r\n                </div>\r\n            </form>\r\n        </div>\r\n        \r\n        <div class=\"modal-footer\">\r\n            <button type=\"button\" [disabled]=\"myFormEditar.invalid\" class=\"btn btn-success\" (click)=\"editarLibro()\" >\r\n            Editar\r\n            </button>\r\n\r\n            <button\r\n            type=\"button\"\r\n            class=\"btn btn-danger\"\r\n            (click)=\"eliminarLibroStorage(); modal.close();\"\r\n            >\r\n            Salir\r\n            </button>\r\n        </div>\r\n        <p *ngIf=\"showAlert\">\r\n            <ngb-alert type=\"{{ tipoAlert }}\" (closed)=\"staticAlertClosed = true\">{{\r\n            messageError\r\n            }}</ngb-alert>\r\n        </p>\r\n    </ng-template>\r\n\r\n\r\n\r\n\r\n    <ng-template #contenidoCrear let-modal>\r\n        <div class=\"modal-header\">\r\n            <h4 class=\"modal-title\">Crear Libro</h4>\r\n            <button class=\"close\" aria-label=\"close\" type=\"button\" (click)=\"modal.dismiss(); \">\r\n            <span aria-hidden=\"true\">&times;</span>\r\n            </button>\r\n        </div>\r\n        \r\n        <div class=\"modal-body\">\r\n            <form [formGroup]=\"myFormCrear\">\r\n                <div class=\"form-group\">\r\n                    <input type=\"text\" class=\"form-control\" id=\"titleCreateBook\" placeholder=\"Titulo\" formControlName=\"title\" />\r\n                </div>\r\n                <div class=\"form-group\">\r\n                    <input type=\"text\" class=\"form-control\" id=\"authorCreateBook\" placeholder=\"Autor\" formControlName=\"author\" />\r\n                </div>\r\n                <div class=\"form-group\">\r\n                    <input type=\"text\" class=\"form-control\" id=\"categoryCreateBook\" placeholder=\"Categoria\" formControlName=\"category\" />\r\n                </div>\r\n                <div class=\"form-group\">\r\n                    <input type=\"number\" class=\"form-control\" id=\"priceCreateBook\" placeholder=\"Precio\" formControlName=\"price\" />\r\n                </div>\r\n                <div class=\"form-group\">\r\n                    <input type=\"number\" class=\"form-control\" id=\"unitsCreateBook\" placeholder=\"Unidades\" formControlName=\"units\" />\r\n                </div>\r\n                <div class=\"form-group\">\r\n                    <textarea class=\"form-control\" id=\"message-text\" id=\"descriptionCreateBook\" placeholder=\"Descripcin\" formControlName=\"description\">\r\n\r\n                    </textarea>\r\n                </div>\r\n\r\n                <div class=\"form-group\">\r\n                    <input id=\"inputUpload\" type=\"file\" (change)=\"handleUpload($event)\" />\r\n                </div>\r\n            </form>\r\n        </div>\r\n        \r\n        <div class=\"modal-footer\">\r\n            <button type=\"button\" [disabled]=\"myFormCrear.invalid\" id=\"buttonCreateBook\" class=\"btn btn-success\" (click)=\"crearLibro()\" >\r\n            Crear\r\n            </button>\r\n\r\n            <button type=\"button\" id=\"buttonCloseBook\" class=\"btn btn-danger\" (click)=\"modal.close();\">\r\n            Salir\r\n            </button>\r\n        </div>\r\n        <p *ngIf=\"showAlert\">\r\n            <ngb-alert type=\"{{ tipoAlert }}\" (closed)=\"staticAlertClosed = true\">{{\r\n            messageError\r\n            }}</ngb-alert>\r\n        </p>\r\n    </ng-template>\r\n</body>\r\n</html>\r\n\r\n","import { Component } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-root',\r\n  templateUrl: './app.component.html',\r\n  styleUrls: ['./app.component.css']\r\n})\r\nexport class AppComponent {\r\n  title = 'frontend-fase1';\r\n}\r\n","<app-navigation> </app-navigation>\r\n\r\n<router-outlet></router-outlet>\r\n\r\n","import { FormControl, FormGroup, Validators } from \"@angular/forms\";\r\nimport { Component, OnInit } from '@angular/core';\r\nimport { NgbModal } from '@ng-bootstrap/ng-bootstrap';\r\nimport { producto, Categoria, productoE } from '../models/producto';\r\nimport { ProductoService } from \"../services/producto.service\";\r\nimport { usuario } from \"../models/user\";\r\n\r\n@Component({\r\n  selector: 'app-admin',\r\n  templateUrl: './admin.component.html',\r\n  styleUrls: ['./admin.component.css']\r\n})\r\nexport class AdminComponent implements OnInit {\r\n\r\n  showAlert = false;\r\n  tipoAlert = 'success';\r\n  messageError = '';\r\n  imagen = '';\r\n  imag64: string = '';\r\n  listado: producto[] = [];\r\n  listadoCategorias: Categoria[] = [];\r\n\r\n  myForm = new FormGroup({\r\n    nombre: new FormControl(\"\", [ Validators.required,  Validators.minLength(2)]),\r\n    precio: new FormControl(\"\", [Validators.required]),\r\n    cantidad: new FormControl(\"\", [Validators.required]),\r\n    descripcion: new FormControl(\"\", [ Validators.required,  Validators.minLength(2)]),\r\n    id_categoria: new FormControl(''),\r\n  });\r\n\r\n  constructor(private modal:NgbModal, private productoService: ProductoService) { }\r\n\r\n  ngOnInit(): void {\r\n    this.messageError = '';\r\n    this.imagen = '';\r\n    this.imag64 = '';\r\n    \r\n    const item = localStorage.getItem('usuario');\r\n    const usuario: usuario =  item == undefined ? null : JSON.parse(item);\r\n    this.productoService.getProductos(usuario.id).subscribe((data: any)=> {\r\n      this.listado = data.datos;\r\n      console.log(this.listado)\r\n    },error => {\r\n      console.log(error);\r\n    });\r\n    this.productoService.getCategorias().subscribe((data: any)=> {\r\n      this.listadoCategorias = data.datos;\r\n      console.log(this.listadoCategorias)\r\n    },error => {\r\n      console.log(error);\r\n    });\r\n  }\r\n \r\n\r\n\r\n  crearProducto(){\r\n    const item = localStorage.getItem('usuario');\r\n    const usuario: usuario =  item == undefined ? null : JSON.parse(item);\r\n    const productoEnviar:producto = this.myForm.value;\r\n    if(this.imagen === '')\r\n      delete productoEnviar.imagen_base64\r\n    else\r\n      productoEnviar.imagen_base64 = this.imagen;\r\n    productoEnviar.id = usuario.id;\r\n    productoEnviar.id_categoria = Number(productoEnviar.id_categoria || 1);\r\n    productoEnviar.id_restaurante = 1;\r\n    console.log(productoEnviar);\r\n\r\n    this.productoService.postProducto(productoEnviar).subscribe((data: any)=> {\r\n      console.log(data)\r\n      this.showAlert = true;\r\n      this.tipoAlert = 'info';\r\n      this.messageError = data.mensaje;\r\n      setTimeout(() => {this.showAlert = false;},3500);      \r\n      this.myForm.reset();\r\n      this.myForm = new FormGroup({\r\n        nombre: new FormControl(\"\", [ Validators.required,  Validators.minLength(2)]),\r\n        precio: new FormControl(\"\", [Validators.required]),\r\n        cantidad: new FormControl(\"\", [Validators.required]),\r\n        descripcion: new FormControl(\"\", [ Validators.required,  Validators.minLength(2)]),\r\n        id_categoria: new FormControl('', [ Validators.required]),\r\n      });\r\n    },error => {\r\n      console.log(error);\r\n      this.showAlert = true;\r\n      this.tipoAlert = 'danger';\r\n      this.messageError = 'Error al ingresar producto.';      \r\n      setTimeout(() => {this.showAlert = false;},3500);\r\n    });\r\n\r\n\r\n  }\r\n\r\n\r\n  openCentrado(contenido){\r\n    this.modal.open(contenido,{centered:true});\r\n  }\r\n  handleUpload(event) {\r\n\r\n    const file = event.target.files[0];\r\n    const reader = new FileReader();\r\n    reader.readAsDataURL(file);\r\n    reader.onload = () => {\r\n        const imagen: string = reader.result.toString();\r\n        const sinMetadata: string = imagen.split(';base64,')[1];\r\n        this.imagen = reader.result.toString();\r\n        this.imag64 = sinMetadata;\r\n    };\r\n  }\r\n\r\n  myFormEditar = new FormGroup({\r\n    id_producto: new FormControl('-1', [ Validators.required]),\r\n    nombre: new FormControl(\"\"),\r\n    precio: new FormControl(\"\"),\r\n    cantidad: new FormControl(\"\"),\r\n    descripcion: new FormControl(\"\"),\r\n    id_categoria: new FormControl(''),\r\n  });\r\n  prodEditar: producto;\r\n  capturar(form:FormGroup) {\r\n    const idSelect = form.value.id_producto;\r\n    const resultado = this.listado.find( produc => produc.id.toString() === idSelect );\r\n    this.prodEditar = resultado;\r\n   \r\n    console.log('resullll> ',this.prodEditar)\r\n  }\r\n  \r\n  editarProducto(){    \r\n    const item = localStorage.getItem('usuario');\r\n    const usuario: usuario =  item == undefined ? null : JSON.parse(item);\r\n    let resultado:productoE = {\r\n      id_producto:             this.prodEditar.id,\r\n      id_usuario:      usuario.id,\r\n      nombre:         this.myFormEditar.value.nombre !== '' ? this.myFormEditar.value.nombre : this.prodEditar.nombre,\r\n      precio:         this.myFormEditar.value.precio !== '' ? Number(this.myFormEditar.value.precio) : this.prodEditar.precio,\r\n      imagen_base64:  this.imagen === '' ? null : this.imagen,\r\n      descripcion:    this.myFormEditar.value.descripcion !== '' ? this.myFormEditar.value.descripcion : this.prodEditar.descripcion,\r\n      cantidad:       this.myFormEditar.value.cantidad !== '' ? Number(this.myFormEditar.value.cantidad) : this.prodEditar.cantidad,\r\n      id_restaurante: 1,\r\n      id_categoria: this.myFormEditar.value.id_categoria !== '' ? Number(this.myFormEditar.value.id_categoria) : this.prodEditar.id_categoria,\r\n    };\r\n    console.log(resultado);\r\n\r\n    this.productoService.putProducto(resultado).subscribe((data: any)=> {\r\n      console.log(data)\r\n      this.showAlert = true;\r\n      this.tipoAlert = 'info';\r\n      this.messageError = data.mensaje;\r\n      setTimeout(() => {this.showAlert = false;},3500);\r\n      this.prodEditar = undefined;\r\n      this.myFormEditar.reset();\r\n      this.myFormEditar =  new FormGroup({\r\n        id_producto: new FormControl('-1', [ Validators.required]),\r\n        nombre: new FormControl(\"\"),\r\n        precio: new FormControl(\"\"),\r\n        cantidad: new FormControl(\"\"),\r\n        descripcion: new FormControl(\"\"),\r\n        id_categoria: new FormControl(''),\r\n      });\r\n    },error => {\r\n      console.log(error);\r\n      this.showAlert = true;\r\n      this.tipoAlert = 'danger';\r\n      this.messageError = 'Error al editar producto.';      \r\n      setTimeout(() => {this.showAlert = false;},3500);\r\n    });\r\n\r\n\r\n  }\r\n\r\n  myFormEliminar = new FormGroup({\r\n    id_producto: new FormControl('-1', [ Validators.required]),\r\n  });\r\n\r\n  eliminarProducto(){\r\n    const item = localStorage.getItem('usuario');\r\n    const usuario: usuario =  item == undefined ? null : JSON.parse(item);\r\n    let enviar = {\r\n      id_usuario: usuario.id,\r\n      id_producto: Number(this.myFormEliminar.value.id_producto)\r\n    }\r\n    console.log('eliminar', enviar);\r\n    console.log('eliminar user', enviar.id_usuario);\r\n\r\n    this.productoService.deleteProducto(enviar).subscribe((data: any)=> {\r\n      this.showAlert = true;\r\n      this.tipoAlert = 'info';\r\n      this.messageError = data.mensaje;\r\n      setTimeout(() => {this.showAlert = false;},3500);      \r\n      this.myFormEliminar.reset();\r\n      this.myFormEliminar = new FormGroup({\r\n        id_producto: new FormControl('-1', [ Validators.required]),\r\n      });\r\n    },error => {\r\n      console.log(error);\r\n      this.showAlert = true;\r\n      this.tipoAlert = 'danger';\r\n      this.messageError = 'Error al eliminar producto.';      \r\n      setTimeout(() => {this.showAlert = false;},3500);\r\n    });\r\n\r\n\r\n  }\r\n\r\n  \r\n}\r\n","<div id=\"containerProducts\">\r\n  <div id=\"titulo\">\r\n    <h1 id=\"testProductos\">productos</h1>\r\n  </div>\r\n  <br /><br />\r\n  <div class=\"container\">\r\n    <div id=\"botones\" class=\"row justify-content-center\">\r\n      <div class=\"col-xs-12 col-sm-6 col-md-4 col-lg-2\">\r\n        <button\r\n          id=\"modalTest\"\r\n          type=\"button\"\r\n          class=\"btn btn-info\"\r\n          (click)=\"openCentrado(contenido)\"\r\n        >\r\n          Crear\r\n        </button>\r\n      </div>\r\n      <div class=\"col-xs-12 col-sm-6 col-md-4 col-lg-2\">\r\n        <button\r\n          type=\"button\"\r\n          class=\"btn btn-warning\"\r\n          (click)=\"openCentrado(contenidoEditar)\"\r\n        >\r\n          Editar\r\n        </button>\r\n      </div>\r\n      <div class=\"col-xs-12 col-sm-12 col-md-4 col-lg-2\">\r\n        <button\r\n          type=\"button\"\r\n          class=\"btn btn-danger\"\r\n          (click)=\"openCentrado(contenidoEliminar)\"\r\n        >\r\n          Eliminar\r\n        </button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <br /><br />\r\n\r\n  <div class=\"container\">\r\n    <div class=\"row\">\r\n      <div class=\"col-12\">\r\n        <div class=\"table-responsive\">\r\n          <table class=\"table table-striped\">\r\n            <thead class=\"thead-dark\">\r\n              <tr>\r\n                <th scope=\"col\">#</th>\r\n                <th scope=\"col\">Nombre</th>\r\n                <th scope=\"col\">Descripcion</th>\r\n                <th scope=\"col\">Precio</th>\r\n                <th scope=\"col\">Cantidad</th>\r\n                <th scope=\"col\">Categoria</th>\r\n                <th scope=\"col\">Imagen</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              <tr *ngFor=\"let prod of listado; index as i\">\r\n                <th scope=\"row\">{{ i }}</th>\r\n                <td>{{ prod.nombre }}</td>\r\n                <td>{{ prod.descripcion }}</td>\r\n                <td>{{ prod.precio }}</td>\r\n                <td>{{ prod.cantidad }}</td>\r\n                <td>{{ prod.categoria }}</td>\r\n                <td><img src=\"{{ prod.url_imagen }}\" id=\"imagen\" alt=\"\" /></td>\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n<ng-template #contenido let-modal>\r\n  <div class=\"modal-header\">\r\n    <h4 class=\"modal-title\">Ingresar Producto</h4>\r\n    <button\r\n      class=\"close\"\r\n      aria-label=\"close\"\r\n      type=\"button\"\r\n      (click)=\"modal.dismiss()\"\r\n    >\r\n      <span aria-hidden=\"true\">&times;</span>\r\n    </button>\r\n  </div>\r\n  <div class=\"modal-body\">\r\n    <form [formGroup]=\"myForm\">\r\n      <div class=\"form-group\">\r\n        <input\r\n        id=\"nombreTest\"\r\n          type=\"text\"\r\n          class=\"form-control\"\r\n          placeholder=\"nombre\"\r\n          formControlName=\"nombre\"\r\n        />\r\n      </div>\r\n      <div class=\"form-group\">\r\n        <input\r\n          id=\"precioTest\"\r\n          type=\"number\"\r\n          class=\"form-control\"\r\n          placeholder=\"precio\"\r\n          formControlName=\"precio\"\r\n        />\r\n      </div>\r\n      <div class=\"form-group\">\r\n        <input\r\n          id=\"cantidadTest\"\r\n          type=\"number\"\r\n          class=\"form-control\"\r\n          placeholder=\"cantidad\"\r\n          formControlName=\"cantidad\"\r\n        />\r\n      </div>\r\n      <div class=\"form-group\">\r\n        <textarea\r\n          class=\"form-control\"\r\n          id=\"message-text\"\r\n          placeholder=\"descripcin\"\r\n          formControlName=\"descripcion\"\r\n        ></textarea>\r\n      </div>\r\n\r\n      <div class=\"mb-3\" class=\"form-group\">\r\n        <select\r\n          id=\"categoriaTest\"\r\n          class=\"form-control\"\r\n          aria-label=\"Default select example\"\r\n          formControlName=\"id_categoria\"\r\n        >\r\n          <option\r\n            *ngFor=\"let categ of this.listadoCategorias\"\r\n            [value]=\"categ.id\"\r\n          >\r\n            {{ categ.nombre }}\r\n          </option>\r\n        </select>\r\n      </div>\r\n\r\n      <div class=\"form-group\">\r\n        <input id=\"inputUpload\" type=\"file\" (change)=\"handleUpload($event)\" />\r\n      </div>\r\n      <div class=\"form-group\">\r\n        <img src=\"{{ this.imagen }}\" id=\"imagen64\" />\r\n      </div>\r\n    </form>\r\n  </div>\r\n  <div class=\"modal-footer\">\r\n    <button\r\n      id=\"botoCrearTest\"\r\n      type=\"button\"\r\n      [disabled]=\"myForm.invalid\"\r\n      class=\"btn btn-success\"\r\n      (click)=\"crearProducto()\"\r\n    >\r\n      Crear\r\n    </button>\r\n    <button\r\n      type=\"button\"\r\n      class=\"btn btn-danger\"\r\n      (click)=\"modal.close(); ngOnInit()\"\r\n    >\r\n      Salir\r\n    </button>\r\n  </div>\r\n  <p *ngIf=\"showAlert\">\r\n    <ngb-alert id=\"messageTest\" type=\"{{ tipoAlert }}\" (closed)=\"staticAlertClosed = true\">{{\r\n      messageError\r\n    }}</ngb-alert>\r\n  </p>\r\n</ng-template>\r\n\r\n<ng-template #contenidoEditar let-modal>\r\n  <div class=\"modal-header\">\r\n    <h4 class=\"modal-title\">Editar Producto</h4>\r\n    <button\r\n      class=\"close\"\r\n      aria-label=\"close\"\r\n      type=\"button\"\r\n      (click)=\"modal.dismiss()\"\r\n    >\r\n      <span aria-hidden=\"true\">&times;</span>\r\n    </button>\r\n  </div>\r\n  <div class=\"modal-body\">\r\n    <form [formGroup]=\"myFormEditar\">\r\n      <div class=\"mb-3\" class=\"form-group\">\r\n        <select\r\n          (change)=\"capturar(myFormEditar)\"\r\n          class=\"form-control\"\r\n          aria-label=\"Default select example\"\r\n          formControlName=\"id_producto\"\r\n        >\r\n          <option *ngFor=\"let prod of this.listado\" [value]=\"prod.id\">\r\n            {{ prod.nombre }}\r\n          </option>\r\n        </select>\r\n      </div>\r\n\r\n      <div class=\"form-group\">\r\n        <input\r\n          type=\"text\"\r\n          class=\"form-control\"\r\n          placeholder=\"nombre\"\r\n          formControlName=\"nombre\"\r\n        />\r\n      </div>\r\n      <div class=\"form-group\">\r\n        <input\r\n          type=\"number\"\r\n          class=\"form-control\"\r\n          placeholder=\"precio\"\r\n          formControlName=\"precio\"\r\n        />\r\n      </div>\r\n      <div class=\"form-group\">\r\n        <input\r\n          type=\"number\"\r\n          class=\"form-control\"\r\n          placeholder=\"cantidad\"\r\n          formControlName=\"cantidad\"\r\n        />\r\n      </div>\r\n      <div class=\"form-group\">\r\n        <textarea\r\n          class=\"form-control\"\r\n          id=\"message-text\"\r\n          placeholder=\"descripcin\"\r\n          formControlName=\"descripcion\"\r\n        ></textarea>\r\n      </div>\r\n\r\n      <div class=\"mb-3\" class=\"form-group\">\r\n        <select\r\n          class=\"form-control\"\r\n          aria-label=\"Default select example\"\r\n          formControlName=\"id_categoria\"\r\n        >\r\n          <option\r\n            *ngFor=\"let categ of this.listadoCategorias\"\r\n            [value]=\"categ.id\"\r\n          >\r\n            {{ categ.nombre }}\r\n          </option>\r\n        </select>\r\n      </div>\r\n\r\n      <div class=\"form-group\">\r\n        <input id=\"inputUpload\" type=\"file\" (change)=\"handleUpload($event)\" />\r\n      </div>\r\n      <div class=\"form-group\">\r\n        <img src=\"{{ this.imagen }}\" id=\"imagen64\" />\r\n      </div>\r\n    </form>\r\n  </div>\r\n  <div class=\"modal-footer\">\r\n    <button\r\n      type=\"button\"\r\n      [disabled]=\"myFormEditar.invalid\"\r\n      class=\"btn btn-success\"\r\n      (click)=\"editarProducto()\"\r\n    >\r\n      Editar\r\n    </button>\r\n    <button\r\n      type=\"button\"\r\n      class=\"btn btn-danger\"\r\n      (click)=\"modal.close(); ngOnInit()\"\r\n    >\r\n      Salir\r\n    </button>\r\n  </div>\r\n  <p *ngIf=\"showAlert\">\r\n    <ngb-alert type=\"{{ tipoAlert }}\" (closed)=\"staticAlertClosed = true\">{{\r\n      messageError\r\n    }}</ngb-alert>\r\n  </p>\r\n</ng-template>\r\n\r\n<ng-template #contenidoEliminar let-modal>\r\n  <div class=\"modal-header\">\r\n    <h4 class=\"modal-title\">Eliminar Producto</h4>\r\n    <button\r\n      class=\"close\"\r\n      aria-label=\"close\"\r\n      type=\"button\"\r\n      (click)=\"modal.dismiss()\"\r\n    >\r\n      <span aria-hidden=\"true\">&times;</span>\r\n    </button>\r\n  </div>\r\n  <div class=\"modal-body\">\r\n    <form [formGroup]=\"myFormEliminar\">\r\n      <div class=\"mb-3\" class=\"form-group\">\r\n        <select\r\n          (change)=\"capturar(myFormEliminar)\"\r\n          class=\"form-control\"\r\n          aria-label=\"Default select example\"\r\n          formControlName=\"id_producto\"\r\n        >\r\n          <option *ngFor=\"let prod of this.listado\" [value]=\"prod.id\">\r\n            {{ prod.nombre }}\r\n          </option>\r\n        </select>\r\n      </div>\r\n    </form>\r\n  </div>\r\n  <div class=\"modal-footer\">\r\n    <button\r\n      type=\"button\"\r\n      [disabled]=\"myFormEliminar.invalid\"\r\n      class=\"btn btn-success\"\r\n      (click)=\"eliminarProducto()\"\r\n    >\r\n      Eliminar\r\n    </button>\r\n    <button\r\n      type=\"button\"\r\n      class=\"btn btn-danger\"\r\n      (click)=\"modal.close(); ngOnInit()\"\r\n    >\r\n      Salir\r\n    </button>\r\n  </div>\r\n  <p *ngIf=\"showAlert\">\r\n    <ngb-alert type=\"{{ tipoAlert }}\" (closed)=\"staticAlertClosed = true\">{{\r\n      messageError\r\n    }}</ngb-alert>\r\n  </p>\r\n</ng-template>\r\n","import { NgModule } from '@angular/core';\r\nimport { BrowserModule } from '@angular/platform-browser';\r\nimport { ReactiveFormsModule, FormsModule } from '@angular/forms'; // Se necesitasn para radioButtons\r\nimport { HttpClientModule } from '@angular/common/http';\r\n\r\nimport { AppRoutingModule } from './app-routing.module';\r\nimport { AppComponent } from './app.component';\r\nimport { NavigationComponent } from './navigation/navigation.component';\r\nimport { LoginComponent } from './login/login.component';\r\nimport { HomeComponent } from './home/home.component';\r\n//services\r\n\r\n// services\r\nimport { UsuarioService } from \"./services/usuario.service\";\r\nimport { ProductoService } from \"./services/producto.service\";\r\n\r\n// components\r\nimport { RegistroComponent } from './registro/registro.component';\r\nimport { AdminComponent } from './admin/admin.component';\r\nimport { NgbModule } from '@ng-bootstrap/ng-bootstrap';\r\nimport { PedidoComponent } from './pedido/pedido.component';\r\nimport { DenegadoComponent } from './denegado/denegado.component';\r\nimport { CarritoComponent } from './carrito/carrito.component';\r\nimport { LibrosComponent } from './libros/libros.component';\r\nimport { PerfilClienteComponent } from './perfil-cliente/perfil-cliente.component';\r\nimport { UsuariosComponent } from './usuarios/usuarios.component';\r\nimport { SolicitarLibroComponent } from './solicitar-libro/solicitar-libro.component';\r\nimport { VerSolicitudesComponent } from './ver-solicitudes/ver-solicitudes.component';\r\nimport { LogEditorialComponent } from './log-editorial/log-editorial.component';\r\nimport { ImpuestosComponent } from './impuestos/impuestos.component';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    AppComponent,\r\n    NavigationComponent,\r\n    LoginComponent,\r\n    RegistroComponent,\r\n    AdminComponent,\r\n    HomeComponent,\r\n    PedidoComponent,\r\n    DenegadoComponent,\r\n    CarritoComponent,\r\n    LibrosComponent,\r\n    PerfilClienteComponent,\r\n    UsuariosComponent,\r\n    SolicitarLibroComponent,\r\n    VerSolicitudesComponent,\r\n    LogEditorialComponent,\r\n    ImpuestosComponent\r\n  ],\r\n  imports: [\r\n    BrowserModule,\r\n    AppRoutingModule,\r\n    ReactiveFormsModule,\r\n    HttpClientModule,\r\n    NgbModule,\r\n    FormsModule\r\n  ],\r\n  providers: [\r\n    UsuarioService,\r\n    ProductoService\r\n  ],\r\n  bootstrap: [AppComponent]\r\n})\r\nexport class AppModule { }\r\n","import { Injectable } from '@angular/core';\r\nimport { CanActivate, Router } from '@angular/router';\r\nimport { UsuarioService } from '../services/usuario.service';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class AdministradorGuard implements CanActivate {\r\n  constructor(private loginService: UsuarioService, private router:Router){\r\n\r\n  }\r\n\r\n\r\n  canActivate():boolean{\r\n    const clase:number = this.loginService.claseUser();\r\n     if(clase != undefined && clase === 1){\r\n      return true;\r\n    }\r\n    this.router.navigate(['/denegado']);\r\n    return false;\r\n  }  \r\n  \r\n}\r\n","<div id=\"containerProducts\">\r\n  <br>\r\n    <br>\r\n    <div id=\"titulo\">\r\n      <h1>pedidos</h1>\r\n    </div>\r\n    <br>\r\n    <br>\r\n\r\n    <div class=\"container\">\r\n      <div class=\"row\">\r\n        <div class=\"col-12\">\r\n          <div class=\"table-responsive\">\r\n            <table  class=\"table table-striped\" style=\"text-align-last: center;\">\r\n              <thead class=\"thead-dark\">\r\n                <tr>\r\n                  <th scope=\"col\">#</th>\r\n                  <th scope=\"col\">Usuario</th>\r\n                  <th scope=\"col\">Direccion</th>\r\n                  <th scope=\"col\">Total</th>\r\n                  <th scope=\"col\">Fecha</th>            \r\n                  <th scope=\"col\">Estado</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>        \r\n                  <tr *ngFor=\"let orden of listado; index as i\">\r\n                      <!-- <input id=\"prodId\" name=\"prodId\" type=\"hidden\" value=\"{{orden.id}}\" #idUsuario>  YA NO LO USO PERO SE PUEDE USAR PARA GUARDAR UN VALOR-->\r\n                      <th>{{i}}</th>\r\n                      <td>{{orden.usuario}}</td>\r\n                      <td>{{orden.direccion}}</td>\r\n                      <td>{{orden.total}}</td>\r\n                      <td>{{orden.fecha}}</td>\r\n                      <td>{{orden.estado}}\r\n                          <button type=\"button\" class=\"btn btn-info\" (click)=\"openCentrado(contenidoCambiar, orden.id, i);\">Cambiar</button>\r\n                          <button type=\"button\" class=\"btn btn-danger\" (click)=\"eliminar(orden.id);\">Eliminar</button>\r\n                      </td>\r\n                  </tr>\r\n              </tbody>\r\n                \r\n            </table>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  \r\n    \r\n     \r\n    \r\n</div>\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n<ng-template #contenidoCambiar let-modal>\r\n    <div class=\"modal-header\">\r\n        <h4 class=\"modal-title\">Cambiar Estado</h4>\r\n        <button class=\"close\" aria-label=\"close\" type=\"button\" (click)=\"modal.dismiss()\">\r\n            <span aria-hidden=\"true\">&times;</span>\r\n        </button>\r\n    </div>\r\n    <h5 style=\"text-align: center;\"> No. Orden: {{this.addNumOrden}}</h5>\r\n    <div class=\"modal-body\">\r\n        <div ngbRadioGroup name=\"radioBasic\" [(ngModel)]=\"model\">\r\n            <label ngbButtonLabel>\r\n              <input ngbButton type=\"radio\" [value]=\"1\"> Nueva orden\r\n            </label><br>\r\n            <label ngbButtonLabel>\r\n              <input ngbButton type=\"radio\" [value]=\"2\"> En preparacin\r\n            </label><br>\r\n            <label ngbButtonLabel>\r\n              <input ngbButton type=\"radio\" [value]=\"3\"> En camino\r\n            </label>\r\n            <label ngbButtonLabel>\r\n                <input ngbButton type=\"radio\" [value]=\"4\"> Entregado\r\n            </label>\r\n            <label ngbButtonLabel>\r\n                <input ngbButton type=\"radio\" [value]=\"5\"> Cancelado\r\n            </label>\r\n            <label ngbButtonLabel>\r\n                <input ngbButton type=\"radio\" [value]=\"6\"> Pagada\r\n            </label>\r\n        </div>\r\n       \r\n    </div>\r\n    <div class=\"modal-footer\">\r\n        <button type=\"button\" class=\"btn btn-success\" (click)=\"cambiarEstado();\" >Cambiar</button>\r\n        <button type=\"button\" class=\"btn btn-danger\" (click)=\"modal.close(); ngOnInit()\">Salir</button>\r\n    </div>\r\n    <p *ngIf=\"showAlert\">\r\n      <ngb-alert type=\"{{tipoAlert}}\" (closed)=\"staticAlertClosed = true\"></ngb-alert>\r\n    </p>\r\n</ng-template>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { NgbModal } from '@ng-bootstrap/ng-bootstrap';\r\nimport { Orden } from '../models/orden';\r\n@Component({\r\n  selector: 'app-pedido',\r\n  templateUrl: './pedido.component.html',\r\n  styleUrls: ['./pedido.component.css']\r\n})\r\nexport class PedidoComponent implements OnInit {\r\n\r\n  listado: Orden[] = [\r\n    {id: 1, usuario: 'juano', direccion: 'zona 1', total: 12.45, fecha: '1/02/2020', estado: 'Nueva orden'},\r\n    {id: 2, usuario: 'maria', direccion: 'zona 3', total: 12, fecha: '1/02/2020', estado: 'Nueva orden'},\r\n    {id: 3, usuario: 'carla', direccion: 'zona 7', total: 32, fecha: '1/02/2020', estado: 'Nueva orden'},\r\n    {id: 4, usuario: 'rober', direccion: 'zona 9', total: 44, fecha: '1/02/2020', estado: 'Nueva orden'},\r\n    {id: 5, usuario: 'luis', direccion: 'zona 1', total: 142, fecha: '1/02/2020', estado: 'Nueva orden'},\r\n    {id: 6, usuario: 'jose', direccion: 'zona 11', total: 32, fecha: '1/02/2020', estado: 'Nueva orden'},\r\n  ];\r\n  addId: number;\r\n  addNumOrden: number;\r\n  estadoNuevo: number;\r\n  model = 1;\r\n\r\n  constructor(private modal:NgbModal ) { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  openCentrado(contenido, idUsuario: number, numOrden: number){\r\n    this.modal.open(contenido,{centered:true, size: 'sm'});\r\n    this.addId = idUsuario;\r\n    this.addNumOrden = numOrden;\r\n  }\r\n\r\n  cambiarEstado() {\r\n    console.log('El idUsuario: ', this.addId, ' Estado: ', this.model)\r\n  }\r\n\r\n  eliminar(idList: number) {\r\n    console.log('El id: ', idList)\r\n  }\r\n\r\n\r\n\r\n}\r\n","\r\n\r\nexport class URLs{\r\n    private host:string = \"34.69.133.221\";\r\n\r\n    public API_URI: string = `http://${this.host}:47001`;\r\n    public url_Usuarios: string = `http://${this.host}:47001/Usuarios`;\r\n    public url_Actualizar_Usuario: string = `http://${this.host}:47001/Actualizar_Usuario`;\r\n    public url_Eliminar_Usuario: string = `http://${this.host}:47001/Eliminar_Usuario`;\r\n    public url_crear: string = `http://${this.host}:47002/book/addBook`;\r\n    public url_eliminar: string = `http://${this.host}:47003/book/deleteBook`;\r\n    public url_editar: string = `http://${this.host}:47004/book/updateBook`;\r\n    public url: string = `http://${this.host}:47005/book/getBooks`;\r\n    public url_deleteSolicitudes: string = `http://${this.host}:47007/EliminarSolicitud`;\r\n    public url_getSolicitudes: string = `http://${this.host}:47008/ObtenerSolicitudes`;\r\n    public url_solicitarLibro: string = `http://${this.host}:47009/SolicitarLibro`;\r\n    public url_newBitacora: string = `http://${this.host}:47010/bitacora/newBitacora`;\r\n    // public url_newBitacora: string = `http://localhost:3450/bitacora/newBitacora`;\r\n    public url_getBitacora: string = `http://${this.host}:47011/bitacora/getBitacora`;\r\n    public url_compra: string = `http://${this.host}:47006/api/compra`;\r\n}","<nav class=\"navbar navbar-dark bg-dark navbar-expand-lg\">\r\n  <div class=\"container-fluid\">\r\n    <a class=\"navbar-brand\" href=\"#\">BookSA</a>\r\n    <button class=\"navbar-toggler collapsed\" type=\"button\" (click)=\"toggleState()\">\r\n      <span class=\"navbar-toggler-icon\"></span>\r\n    </button>\r\n    <div class=\"collapse navbar-collapse\" id=\"navbarTogglerDemo02\" [ngClass]=\"{ 'collapse': isCollapse }\">\r\n      <ng-container >\r\n        <ul class=\"navbar-nav me-auto mb-2 mb-lg-0\">\r\n          <div class=\"\"*ngIf=\"this.tipouser == 0\">\r\n            <li class=\"nav-item\" >\r\n              <a class=\"nav-link\" routerLink=\"/\" routerLinkActive=\"active\"\r\n                >Catlogo</a\r\n              >\r\n            </li>\r\n          </div>\r\n\r\n          <div class=\"\"*ngIf=\"this.tipouser == 1\">\r\n            <li class=\"nav-item\" >\r\n              <a class=\"nav-link\" routerLink=\"/usuarios\" routerLinkActive=\"active\"\r\n                >Usuarios</a\r\n              >\r\n            </li>\r\n          </div>\r\n\r\n          <div class=\"\"*ngIf=\"this.tipouser == 1\">\r\n            <li class=\"nav-item\" >\r\n              <a class=\"nav-link\" routerLink=\"/log-editorial\" routerLinkActive=\"active\"\r\n                >Log Editoriales</a\r\n              >\r\n            </li>\r\n          </div>\r\n\r\n          <div class=\"\"*ngIf=\"this.tipouser == 2\">\r\n            <li class=\"nav-item\" >\r\n              <a class=\"nav-link\" routerLink=\"/libros\" routerLinkActive=\"active\"\r\n                >Libros</a>\r\n            </li>\r\n          </div>\r\n\r\n          <div class=\"\"*ngIf=\"this.tipouser == 2\">\r\n            <li class=\"nav-item\" >\r\n              <a class=\"nav-link\" routerLink=\"/solicitudes\" routerLinkActive=\"active\"\r\n                >Solicitudes</a>\r\n            </li>\r\n          </div>\r\n\r\n          <div class=\"\"*ngIf=\"this.tipouser == 3\">\r\n            <li class=\"nav-item\" >\r\n              <a class=\"nav-link\" routerLink=\"/solicitar\" routerLinkActive=\"active\"\r\n                >Solicitar Libro</a>\r\n            </li>\r\n          </div>\r\n          \r\n\r\n          <div class=\"\"*ngIf=\"this.tipouser == 2\">\r\n            <li class=\"nav-item\" >\r\n              <a class=\"nav-link\" routerLink=\"/impuestos\" routerLinkActive=\"active\"\r\n                >Impuestos</a>\r\n            </li>\r\n          </div>\r\n\r\n        </ul>\r\n      </ng-container>\r\n\r\n      <ul class=\"navbar-nav ml-auto\">\r\n\r\n        <div class=\"\"*ngIf=\"this.tipouser == 3\">\r\n          <li class=\"nav-item\" >\r\n            <a class=\"nav-link\" routerLink=\"/carrito\" routerLinkActive=\"active\">\r\n              <i class=\"fas fa-shopping-cart\"></i> &nbsp;&nbsp;&nbsp;|</a>\r\n          </li> \r\n        </div>\r\n\r\n        <ng-container *ngIf=\"!usuarioService.estaLog(); else log\">\r\n          <li class=\"nav-item\">\r\n            <a class=\"nav-link\" routerLink=\"/login\" routerLinkActive=\"active\"\r\n              >Login</a\r\n            >\r\n          </li>\r\n          <li>\r\n            <a class=\"nav-link\" id=\"separacion\">|</a>\r\n          </li>\r\n          <li class=\"nav-item\">\r\n            <a class=\"nav-link\" routerLink=\"/registro\" routerLinkActive=\"active\"\r\n              >Registro</a\r\n            >\r\n          </li>\r\n\r\n         \r\n          \r\n        </ng-container>\r\n\r\n        \r\n        <ng-template #log>\r\n          <li class=\"nav-item\">\r\n            <a class=\"nav-link\" routerLink=\"/perfil-cliente\" routerLinkActive=\"active\"\r\n              >Perfil</a\r\n            >\r\n          </li>\r\n\r\n          <li class=\"nav-item\">\r\n            <a\r\n              class=\"nav-link\"\r\n              style=\"cursor: pointer\"\r\n              (click)=\"usuarioService.logOut()\"\r\n              >Logout</a\r\n            >\r\n          </li>\r\n        </ng-template>\r\n      </ul>\r\n    </div>\r\n  </div>\r\n</nav>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { UsuarioService } from \"../services/usuario.service\";\r\nimport { Router } from '@angular/router';\r\n@Component({\r\n  selector: 'app-navigation',\r\n  templateUrl: './navigation.component.html',\r\n  styleUrls: ['./navigation.component.css']\r\n})\r\nexport class NavigationComponent implements OnInit {\r\n\r\n  tipouser: number = 0;\r\n\r\n  constructor(public usuarioService: UsuarioService, private router: Router) { \r\n    router.events.subscribe((val) => {\r\n      // see also \r\n      try{\r\n        this.tipouser = JSON.parse(localStorage.getItem('usuario')).id_rol; \r\n      } catch(error){\r\n        this.tipouser = 0;\r\n      }\r\n    \r\n  });\r\n  }\r\n\r\n  \r\n  denegado(){\r\n    this.router.navigate([\"denegado\"]);\r\n  }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n\r\n  isCollapse = false;   // guardamos el valor\r\n    toggleState() { // manejador del evento\r\n        let foo = this.isCollapse;\r\n        this.isCollapse = foo === false ? true : false; \r\n    }\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { HttpClient, HttpHeaders} from '@angular/common/http';\r\nimport {Router} from '@angular/router';\r\nimport * as CryptoJS from 'crypto-js';\r\n\r\nimport { usuario } from \"../models/user\";\r\nimport { URLs} from \"../urls/urls\";\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class UsuarioService {\r\n  myURL = new URLs();\r\n\r\n  API_URI = this.myURL.API_URI;\r\n\r\n  tokenFromUI: string = \"SA-Encryption\";\r\n\r\n  constructor(private http: HttpClient, private route: Router) { }\r\n\r\n  postLogin(correo:String, contrasena: string) {\r\n    const encriptada = this.encryptUsingAES256(this.tokenFromUI, contrasena);\r\n    // console.log(encriptada)\r\n    // console.log(this.decryptUsingAES256(this.tokenFromUI, encriptada))\r\n    return this.http.post(`${this.API_URI}/Login`, {  \"user\": correo, \"password\": encriptada});\r\n  }\r\n\r\n  // getUser(correo: string){\r\n  //   return this.http.post(`${this.API_URI}/user-data/get-data-user`, {correo: correo});\r\n  // }\r\n\r\n  postRegistro(usuario: usuario){    \r\n    const encriptada = this.encryptUsingAES256(this.tokenFromUI,  usuario.password.toString());\r\n    usuario.password = encriptada;\r\nconsole.log(usuario)\r\n    return this.http.post(`${this.API_URI}/Registro`, usuario);\r\n  }\r\n\r\n  updateUser(usuario: usuario){    \r\n    const desencriptar = this.decryptUsingAES256(this.tokenFromUI,  usuario.password.toString());\r\n    const encriptada = this.encryptUsingAES256(this.tokenFromUI,  usuario.password.toString());\r\n    usuario.password = encriptada;\r\n    return this.http.put(`${this.API_URI}/Actualizar_Usuario`, usuario);\r\n  }\r\n\r\n  estaLog():Boolean{\r\n    return !!localStorage.getItem('usuario');\r\n  }\r\n\r\n  logOut(){\r\n    localStorage.removeItem('usuario');\r\n    this.route.navigate(['/login']);\r\n  }\r\n\r\n  claseUser():number {\r\n    const item = localStorage.getItem('usuario');\r\n    const usuario: usuario =  item == undefined ? null : JSON.parse(item);\r\n    if(item==null || usuario.idRol===3){\r\n      return 3;\r\n    }\r\n    return 1;\r\n  }\r\n\r\n  encryptUsingAES256(tokenFromUI: string, request: string):string {\r\n    let _key = CryptoJS.enc.Utf8.parse(tokenFromUI);\r\n    let _iv = CryptoJS.enc.Utf8.parse(tokenFromUI);\r\n    let encrypted = CryptoJS.AES.encrypt(\r\n      JSON.stringify(request), _key, {\r\n        keySize: 16,\r\n        iv: _iv,\r\n        mode: CryptoJS.mode.ECB,\r\n        padding: CryptoJS.pad.Pkcs7\r\n      });\r\n    return encrypted.toString();\r\n  }\r\n  decryptUsingAES256(tokenFromUI: string, encrypted: string) {\r\n    let _key = CryptoJS.enc.Utf8.parse(tokenFromUI);\r\n    let _iv = CryptoJS.enc.Utf8.parse(tokenFromUI);\r\n\r\n    return CryptoJS.AES.decrypt(\r\n      encrypted, _key, {\r\n        keySize: 16,\r\n        iv: _iv,\r\n        mode: CryptoJS.mode.ECB,\r\n        padding: CryptoJS.pad.Pkcs7\r\n      }).toString(CryptoJS.enc.Utf8);\r\n  }\r\n}\r\n","import { Component, OnInit} from '@angular/core';\r\nimport { FormControl, FormGroup, Validators } from \"@angular/forms\";\r\n\r\n@Component({\r\n  selector: 'app-impuestos',\r\n  templateUrl: './impuestos.component.html',\r\n  styleUrls: ['./impuestos.component.css']\r\n})\r\nexport class ImpuestosComponent implements OnInit {\r\n  active = 1;\r\n  tipouser: number = JSON.parse(localStorage.getItem('usuario')).id_rol; \r\n  \r\n  myForm = new FormGroup({\r\n    \r\n    precio: new FormControl(\"\" , [\r\n      Validators.required,\r\n      Validators.minLength(4),\r\n      Validators.maxLength(15)\r\n    ]),\r\n    pais: new FormControl(\"\" , [\r\n      Validators.required,\r\n      Validators.minLength(4),\r\n      Validators.maxLength(15)\r\n    ]),\r\n\r\n    total: new FormControl(\"\", [\r\n      Validators.required,\r\n      Validators.minLength(8),\r\n      Validators.maxLength(15)\r\n    ]),\r\n  \r\n  });\r\n  constructor() { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  onSubmit(): void {\r\n    const datos = this.myForm.value;\r\n      var resultado;\r\n      var iva;\r\n\r\n      switch (datos.pais) {\r\n        case \"Alemania\":\r\n            iva = 0.19;\r\n            break;\r\n        case \"Argentina\":\r\n            iva = 0.21;\r\n            break;\r\n        case \"Bolivia\":\r\n            iva = 0.13;\r\n            break;\r\n        case \"Canad\":\r\n            iva = 0.05;\r\n            break;\r\n        case \"China\":\r\n            iva = 0.17;\r\n            break;\r\n        case \"Corea del Sur\":\r\n            iva = 0.10;\r\n            break;\r\n        case \"Croacia\":\r\n            iva = 0.25;\r\n            break;\r\n        case \"Dinamarca\":\r\n            iva = 0.25;\r\n            break;\r\n        case \"El Salvador\":\r\n            iva = 0.13;\r\n            break;\r\n        case \"Estados Unidos\":\r\n            iva = 0.13;\r\n            break;\r\n        case \"Espaa\":\r\n            iva = 0.21;\r\n            break;\r\n        case \"Francia\":\r\n            iva = 0.20;\r\n            break;\r\n        case \"Guatemala\":\r\n            iva = 0.12;\r\n            break;\r\n        case \"Hungra\":\r\n            iva = 0.27;\r\n            break;\r\n        case \"India\":\r\n            iva = 0.15;\r\n            break;\r\n        case \"Japn\":\r\n            iva = 0.08;\r\n            break;\r\n        case \"Marruecos\":\r\n            iva = 0.20;\r\n            break;\r\n        case \"Mxico\":\r\n            iva = 0.16;\r\n            break;\r\n        case \"Noruega\":\r\n            iva = 0.25;\r\n            break;\r\n        case \"Rusia\":\r\n            iva = 0.18;\r\n            break;\r\n        case \"Suecia\":\r\n            iva = 0.25;\r\n            break;\r\n       \r\n      }\r\n\r\n\r\n      resultado = \"Q.\" + (parseInt(datos.precio,10) * iva).toFixed(2);\r\n      console.log(\"Iva:\" + iva);\r\n      console.log(\"resultado:\" + resultado);\r\n      return resultado;    \r\n  }\r\n\r\n\r\n}\r\n","<div class=\"container\">\r\n    <div id=\"cuadro\" class=\"d-flex justify-content-center h-100\">\r\n      <div class=\"card\">\r\n        <div class=\"card-body\">\r\n          <ul ngbNav #nav=\"ngbNav\" class=\"nav nav-pills nav-justified\">\r\n            <ng-container *ngIf=\"tipouser == 2;\">\r\n            <li [ngbNavItem]=\"1\" id=\"itemTabI\">\r\n              <a ngbNavLink id=\"itemTab\">Calculadora de Impuestos</a>\r\n              <ng-template ngbNavContent >\r\n                \r\n                <form [formGroup]=\"myForm\" (ngSubmit)=\"onSubmit()\">\r\n                Precio del libro:\r\n                  <div class=\"input-group form-group\">\r\n                      <div class=\"input-group-prepend\">\r\n                        <span class=\"input-group-text\"\r\n                          ><i class=\"far fa-money-bill-alt\"></i>\r\n                          </span>\r\n                      </div>\r\n                      <input\r\n                        type=\"text\"\r\n                        class=\"form-control\"\r\n                        placeholder=\"Precio\"\r\n                        formControlName=\"precio\"\r\n                        autofocus\r\n                      />\r\n                    </div>\r\n                    Pas de importe:\r\n                    <div class=\"input-group form-group\">\r\n                      <div class=\"input-group-prepend\">\r\n                        <span class=\"input-group-text\"\r\n                          ><i class=\"fas fa-globe-americas\"></i>\r\n                        </span>\r\n                      </div>\r\n                      <select\r\n\r\n                        class=\"form-control\"\r\n                        formControlName=\"pais\"\r\n                        autofocus>\r\n                       \r\n                        <optgroup>\r\n                            <option>Alemania</option>\r\n                            <option>Argentina</option>                            \r\n                            <option>Bolivia</option>\r\n                            <option>Canad</option>\r\n                            <option>China</option>\r\n                            <option>Corea del Sur</option>\r\n                            <option>Croacia</option>\r\n                            <option>Dinamarca</option>\r\n                            <option>El Salvador</option>\r\n                            <option>Estados Unidos</option>\r\n                            <option>Espaa</option>\r\n                            <option>Francia</option> \r\n                            <option>Guatemala</option>\r\n                            <option>Hungra</option>\r\n                            <option>India</option>\r\n                            <option>Japn</option>\r\n                            <option>Marruecos</option> \r\n                            <option>Mxico</option> \r\n                            <option>Noruega</option>\r\n                            <option>Rusia</option>\r\n                            <option>Suecia</option>                                   \r\n                        </optgroup>\r\n                        </select>\r\n                    </div>\r\n                    Impuesto:\r\n                    <div class=\"input-group form-group\">\r\n                      <div class=\"input-group-prepend\">\r\n                        <span class=\"input-group-text\"\r\n                          ><i class=\"fas fa-calculator\"></i>\r\n                        </span>\r\n                      </div> \r\n                      <input [readonly] = \"true\"\r\n                        type=\"text\"\r\n                        class=\"form-control\"\r\n                        placeholder=\"Total\"\r\n                        formControlName=\"total\"\r\n                        [ngModel]=\"this.onSubmit()\"\r\n                        autofocus\r\n                      /> \r\n                    </div>\r\n        \r\n               \r\n              </form>\r\n              \r\n              </ng-template>\r\n            </li>\r\n          </ng-container>\r\n\r\n          </ul>\r\n          <div [ngbNavOutlet]=\"nav\" class=\"mt-2\"></div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  \r\n\r\n","import { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport {LoginComponent} from './login/login.component'\r\nimport { RegistroComponent } from \"./registro/registro.component\";\r\nimport { AdminComponent } from \"./admin/admin.component\";\r\nimport { HomeComponent } from './home/home.component';\r\nimport { PedidoComponent } from \"./pedido/pedido.component\";\r\nimport { DenegadoComponent } from \"./denegado/denegado.component\";\r\nimport { UsuarioGuard } from \"./guards/usuario.guard\";\r\nimport { AdministradorGuard } from \"./guards/administrador.guard\";\r\nimport { CarritoComponent } from './carrito/carrito.component';\r\nimport { LibrosComponent } from './libros/libros.component';\r\nimport { PerfilClienteComponent } from './perfil-cliente/perfil-cliente.component';\r\nimport { UsuariosComponent } from './usuarios/usuarios.component';\r\nimport { SolicitarLibroComponent } from './solicitar-libro/solicitar-libro.component';\r\nimport { VerSolicitudesComponent } from './ver-solicitudes/ver-solicitudes.component';\r\nimport { LogEditorialComponent } from './log-editorial/log-editorial.component';\r\nimport { ImpuestosComponent } from './impuestos/impuestos.component';\r\n\r\nconst routes: Routes = [\r\n \r\n  { \r\n    path: '', \r\n    component: HomeComponent \r\n  },\r\n  { \r\n    path: 'login', \r\n    component: LoginComponent \r\n  },\r\n  { \r\n    path: 'registro', \r\n    component: RegistroComponent \r\n  },\r\n  { \r\n    path: 'admin', \r\n    component: AdminComponent,\r\n    canActivate:[UsuarioGuard, AdministradorGuard]\r\n  },\r\n  { \r\n    path: 'pedidos', \r\n    component: PedidoComponent,\r\n    canActivate:[UsuarioGuard, AdministradorGuard]\r\n  },\r\n  { \r\n    path: 'denegado', \r\n    component: DenegadoComponent \r\n  },\r\n  {\r\n  path: 'carrito', \r\n  component: CarritoComponent \r\n  },\r\n  {\r\n  path: 'libros', \r\n  component: LibrosComponent\r\n  },\r\n  {\r\n  path: 'perfil-cliente', \r\n  component: PerfilClienteComponent \r\n  },\r\n  {\r\n    path: 'usuarios', \r\n    component: UsuariosComponent \r\n  },\r\n  {\r\n    path: 'solicitar', \r\n    component: SolicitarLibroComponent \r\n  },\r\n  {\r\n    path: 'solicitudes', \r\n    component: VerSolicitudesComponent \r\n  },\r\n  {\r\n    path: 'log-editorial', \r\n    component: LogEditorialComponent \r\n  },\r\n  {\r\n    path: 'impuestos', \r\n    component: ImpuestosComponent \r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forRoot(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class AppRoutingModule { }\r\n","import { FormControl, FormGroup, Validators } from \"@angular/forms\";\r\nimport { Component, OnInit } from \"@angular/core\";\r\nimport {Router} from '@angular/router';\r\n\r\nimport { UsuarioService } from \"../services/usuario.service\";\r\nimport { usuario } from \"../models/user\";\r\n\r\n@Component({\r\n  selector: \"app-login\",\r\n  templateUrl: \"./login.component.html\",\r\n  styleUrls: [\"./login.component.css\"],\r\n})\r\nexport class LoginComponent implements OnInit {\r\n  email: string = 'correo@gmail.com';\r\n  pass: string = '1234';\r\n  credentialsInvalid: boolean = false;\r\n  messageError: string = '';\r\n\r\n  constructor(private loginService: UsuarioService, private router:Router) {}\r\n  \r\n  ngOnInit(): void {}\r\n\r\n  myForm = new FormGroup({\r\n    userEmail: new FormControl(\"\", [\r\n      Validators.required,\r\n      Validators.minLength(12),\r\n      Validators.maxLength(35),\r\n      Validators.email\r\n    ]),\r\n    userPass: new FormControl(\"\", [\r\n      Validators.required,\r\n      Validators.minLength(4),\r\n      Validators.maxLength(15)\r\n    ]),\r\n  });\r\n\r\n  onSubmit(): void {\r\n\r\n    const user = this.myForm.value;\r\n    if(user.userEmail === ''  || user.userPass === ''){\r\n      this.credentialsInvalid = true;\r\n      this.messageError = 'Faltan campos a ingresar';\r\n      setTimeout(() => {this.credentialsInvalid = false;},3500);\r\n      return;\r\n    }\r\n    console.log(this.myForm.value);\r\n\r\n    this.loginService.postLogin(user.userEmail , user.userPass).subscribe((data:any)=> {      \r\n      console.log(\"data: \",data);\r\n\r\n\r\n      if(!data){        \r\n        this.messageError = 'Credenciales invalidas';\r\n        this.credentialsInvalid = true;\r\n        setTimeout(() => {this.credentialsInvalid = false;},3500);\r\n        return\r\n      }\r\n      \r\n      let newUser = data as usuario; \r\n\r\n      localStorage.setItem('usuario', JSON.stringify(newUser));\r\n      localStorage.removeItem('productoscarrito');\r\n\r\n      if(newUser.idRol == 1 || newUser.idRol == 2)\r\n        this.router.navigateByUrl('/admin')\r\n      else\r\n        this.router.navigateByUrl('/');\r\n\r\n\r\n      // this.loginService.getUser(user.userEmail).subscribe((data: any)=> { \r\n      //   \r\n      //   console.log('######### ',user)\r\n      \r\n      //   \r\n      // },error => {\r\n      //   this.messageError = 'Problemas en la conexin';\r\n      //   this.credentialsInvalid = true;\r\n      //   console.log(error);\r\n      //   setTimeout(() => {this.credentialsInvalid = false;},3500);\r\n      // });\r\n\r\n    }, error => {\r\n      if (error.status == 401 || error.status == 402)    \r\n        // this.messageError = error.error.message;\r\n        this.messageError = 'Credenciales invalidas';\r\n      else         \r\n        this.messageError = 'Problemas en la conexin';\r\n      this.credentialsInvalid = true;\r\n      console.log(error);\r\n      setTimeout(() => {this.credentialsInvalid = false;},3500);\r\n    })\r\n      \r\n  }\r\n}\r\n","<div class=\"container\">\r\n  <div id=\"cuadro\" class=\"d-flex justify-content-center h-100\">\r\n    <div class=\"card\">\r\n      <div class=\"card-header\">\r\n        <h3>Iniciar Sesin</h3>\r\n      </div>\r\n      <div class=\"card-body\">\r\n        <form [formGroup]=\"myForm\" (ngSubmit)=\"onSubmit()\">\r\n          <div class=\"input-group form-group\">\r\n            <div class=\"input-group-prepend\">\r\n              <span class=\"input-group-text\"><i class=\"fas fa-envelope\"></i></span>\r\n            </div>\r\n            <input\r\n            id=\"testCorreo\"\r\n\t\t\t  [class.is-invalid]=\"myForm.get('userEmail').touched && myForm.get('userEmail').invalid\"\t\r\n              type=\"email\"\r\n              class=\"form-control\"\r\n              placeholder=\"correo\"\r\n              formControlName=\"userEmail\"\r\n              autofocus              \r\n            />\r\n          </div>\r\n          <div class=\"input-group form-group\">\r\n            <div class=\"input-group-prepend\">\r\n              <span class=\"input-group-text\"><i class=\"fas fa-key\"></i></span>\r\n            </div>\r\n            <input\r\n            id=\"testPassword\"\r\n\t\t\t  [class.is-invalid]=\"myForm.get('userPass').touched && myForm.get('userPass').invalid\"\r\n              type=\"password\"\r\n              class=\"form-control\"\r\n              placeholder=\"contrasea\"\r\n              formControlName=\"userPass\"\r\n            />\r\n          </div>\r\n          <div class=\"row align-items-center remember\">\r\n            <input type=\"checkbox\" />Recordarme\r\n          </div>\r\n          <div class=\"form-group\">\r\n            <input            \r\n              id=\"testButton\"\r\n              type=\"submit\"\r\n              value=\"Login\"\r\n              class=\"btn float-right login_btn\"\r\n            />\r\n          </div>\r\n        </form>\r\n        <div *ngIf=\"credentialsInvalid\" class=\"alert alert-danger\" role=\"alert\" id=\"alertaLogin\">\r\n          <button          \r\n            type=\"button\"\r\n            class=\"close\"\r\n            data-dismiss=\"alert\"\r\n            aria-label=\"Close\"\r\n          >\r\n            <span aria-hidden=\"true\">&times;</span>\r\n          </button>\r\n          <strong>Error</strong><span id=\"testMensaje\">{{this.messageError}}</span> \r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { FormControl, FormGroup, Validators } from \"@angular/forms\";\r\nimport { Component, OnInit } from \"@angular/core\";\r\nimport {Router} from '@angular/router';\r\n\r\nimport { UsuarioService } from \"../services/usuario.service\";\r\nimport { usuario } from \"../models/user\";\r\n\r\n@Component({\r\n  selector: 'app-perfil-cliente',\r\n  templateUrl: './perfil-cliente.component.html',\r\n  styleUrls: ['./perfil-cliente.component.css']\r\n})\r\n\r\n\r\nexport class PerfilClienteComponent implements OnInit {\r\n\r\n  credentialsInvalid: boolean = false;\r\n  messageError: string = '';\r\n  active = 1;\r\n  usuario: string =\"\";\r\n  tipouser: number = JSON.parse(localStorage.getItem('usuario')).id_rol; \r\n  \r\n\r\n  myForm = new FormGroup({\r\n    \r\n    userName: new FormControl(JSON.parse(localStorage.getItem('usuario')).nombre , [\r\n      Validators.required,\r\n      Validators.minLength(4),\r\n      Validators.maxLength(15)\r\n    ]),\r\n    userLastName: new FormControl(JSON.parse(localStorage.getItem('usuario')).apellido , [\r\n      Validators.required,\r\n      Validators.minLength(4),\r\n      Validators.maxLength(15)\r\n    ]),\r\n    userEmail: new FormControl(JSON.parse(localStorage.getItem('usuario')).correo , [\r\n      Validators.required,\r\n      Validators.minLength(12),\r\n      Validators.maxLength(35),\r\n      Validators.email\r\n    ]),\r\n    userPhone: new FormControl(JSON.parse(localStorage.getItem('usuario')).telefono , [\r\n      Validators.required,\r\n      Validators.minLength(8),\r\n      Validators.maxLength(15)\r\n    ]),\r\n    userPass: new FormControl(JSON.parse(localStorage.getItem('usuario')).password , [\r\n      Validators.required,\r\n      Validators.minLength(4),\r\n      Validators.maxLength(15)\r\n    ]),\r\n    \r\n  });\r\n\r\n\r\n  myFormRest = new FormGroup({\r\n    EditorialName: new FormControl(JSON.parse(localStorage.getItem('usuario')).nombre , [\r\n      Validators.required,\r\n      Validators.minLength(4),\r\n      Validators.maxLength(15)\r\n    ]),\r\n\r\n    EditorialPass: new FormControl(JSON.parse(localStorage.getItem('usuario')).password , [\r\n      Validators.required,\r\n      Validators.minLength(4),\r\n      Validators.maxLength(15)\r\n    ]),\r\n\r\n    EditorialEmail: new FormControl(JSON.parse(localStorage.getItem('usuario')).correo , [\r\n      Validators.required,\r\n      Validators.minLength(12),\r\n      Validators.maxLength(35),\r\n      Validators.email\r\n    ]),\r\n\r\n    EditorialPhone: new FormControl(JSON.parse(localStorage.getItem('usuario')).telefono , [\r\n      Validators.required,\r\n      Validators.minLength(4),\r\n      Validators.maxLength(15)\r\n    ]),\r\n  });\r\n  \r\n  \r\n  constructor(private updateService: UsuarioService, private router:Router) { }\r\n\r\n  ngOnInit(): void { }\r\n\r\n\r\n  onSubmit(): void {\r\n    const user = this.myForm.value;\r\n    if(user.userName === '' || user.userLastName === '' || user.userPass === '' || user.userEmail === '' \r\n        || user.userPhone === ''){\r\n      this.credentialsInvalid = true;\r\n      this.messageError = 'Faltan campos a ingresar';\r\n      setTimeout(() => {this.credentialsInvalid = false;},3500);\r\n      return;\r\n    }\r\n      \r\n    const usuario: usuario = {\r\n      nombre:       user.userName,\r\n      apellido:     user.userLastName,\r\n      correo:       user.userEmail,\r\n      password:     user.userPass,\r\n      telefono:     user.userPhone,\r\n      idRol:        this.tipouser,\r\n      id_rol:       this.tipouser,\r\n      estado:       1\r\n    }\r\n    console.log('***' ,usuario);\r\n    var res;\r\n\r\n    this.updateService.updateUser(usuario).subscribe((data:string)=> {\r\n      res = data;\r\n      console.log(\"probando\"+res);\r\n      if(res === 'El usuario no existe'){        \r\n        this.messageError = res;\r\n        this.credentialsInvalid = true;\r\n        setTimeout(() => {this.credentialsInvalid = false;},3500);\r\n        return;\r\n      }\r\n      console.log(data, 'adentro');\r\n      this.router.navigateByUrl('/perfil-cliente');\r\n    }, error => {\r\n      this.credentialsInvalid = true;\r\n      this.messageError = 'Problemas al ingresar las credenciales';\r\n      console.log(error, 'error');\r\n      setTimeout(() => {this.credentialsInvalid = false;},3500);\r\n    })\r\n  }\r\n\r\n  onSubmitRest(): void {\r\n\r\n  }\r\n}\r\n","<div class=\"container\">\r\n    <div id=\"cuadro\" class=\"d-flex justify-content-center h-100\">\r\n      <div class=\"card\">\r\n        <div class=\"card-body\">\r\n          <ul ngbNav #nav=\"ngbNav\" class=\"nav nav-pills nav-justified\">\r\n            <ng-container *ngIf=\"tipouser == 3;\">\r\n            <li [ngbNavItem]=\"1\" id=\"itemTabI\">\r\n              <a ngbNavLink id=\"itemTab\">Perfil</a>\r\n              <ng-template ngbNavContent >\r\n                \r\n                <form [formGroup]=\"myForm\" (ngSubmit)=\"onSubmit()\">\r\n                  <div class=\"input-group form-group\">\r\n                      <div class=\"input-group-prepend\">\r\n                        <span class=\"input-group-text\"\r\n                          ><i class=\"fas fa-user\"></i\r\n                        ></span>\r\n                      </div>\r\n                      <input\r\n                        [class.is-invalid]=\"\r\n                          myForm.get('userName').touched &&\r\n                          myForm.get('userName').invalid\r\n                        \"\r\n                        type=\"text\"\r\n                        class=\"form-control\"\r\n                        placeholder=\"nombre\"\r\n                        formControlName=\"userName\"\r\n                        value=\"userActual.nombre\"\r\n                        autofocus\r\n                      />\r\n                    </div>\r\n              \r\n                    <div class=\"input-group form-group\">\r\n                      <div class=\"input-group-prepend\">\r\n                        <span class=\"input-group-text\"\r\n                          ><i class=\"fas fa-user-plus\"></i\r\n                        ></span>\r\n                      </div>\r\n                      <input\r\n                        [class.is-invalid]=\"\r\n                          myForm.get('userLastName').touched &&\r\n                          myForm.get('userLastName').invalid\r\n                        \"\r\n                        type=\"text\"\r\n                        class=\"form-control\"\r\n                        placeholder=\"apellido\"\r\n                        formControlName=\"userLastName\"\r\n                        autofocus\r\n                      />\r\n                    </div>\r\n              \r\n                    <div class=\"input-group form-group\">\r\n                      <div class=\"input-group-prepend\">\r\n                        <span class=\"input-group-text\"\r\n                          ><i class=\"fas fa-phone\"></i\r\n                        ></span>\r\n                      </div>\r\n                      <input\r\n                        [class.is-invalid]=\"\r\n                          myForm.get('userPhone').touched &&\r\n                          myForm.get('userPhone').invalid\r\n                        \"\r\n                        type=\"text\"\r\n                        class=\"form-control\"\r\n                        placeholder=\"telfono\"\r\n                        formControlName=\"userPhone\"\r\n                        autofocus\r\n                      />\r\n                    </div>\r\n              \r\n                <div class=\"input-group form-group\">\r\n                  <div class=\"input-group-prepend\">\r\n                    <span class=\"input-group-text\"\r\n                      ><i class=\"fas fa-envelope\"></i\r\n                    ></span>\r\n                  </div>\r\n                  <input\r\n                    [class.is-invalid]=\"\r\n                      myForm.get('userEmail').touched &&\r\n                      myForm.get('userEmail').invalid\r\n                    \"\r\n                    type=\"email\"\r\n                    class=\"form-control\"\r\n                    placeholder=\"correo\"\r\n                    formControlName=\"userEmail\"\r\n                    autofocus\r\n                  />\r\n                </div>\r\n                <div class=\"input-group form-group\">\r\n                  <div class=\"input-group-prepend\">\r\n                    <span class=\"input-group-text\"><i class=\"fas fa-key\"></i></span>\r\n                  </div>\r\n                  <input\r\n                    [class.is-invalid]=\"\r\n                      myForm.get('userPass').touched && myForm.get('userPass').invalid\r\n                    \"\r\n                    type=\"password\"\r\n                    class=\"form-control\"\r\n                    placeholder=\"contrasea\"\r\n                    formControlName=\"userPass\"\r\n                  />\r\n                </div>\r\n                <div class=\"form-group\">\r\n                  <input\r\n                    type=\"submit\"\r\n                    value=\"Actualizar\"\r\n                    class=\"btn float-right login_btn\"\r\n                  />\r\n                </div>\r\n              </form>\r\n              <div\r\n                *ngIf=\"credentialsInvalid\"\r\n                class=\"alert alert-danger\"\r\n                role=\"alert\"\r\n                id=\"alertaLogin\"\r\n              >\r\n                <button\r\n                  type=\"button\"\r\n                  class=\"close\"\r\n                  data-dismiss=\"alert\"\r\n                  aria-label=\"Close\"\r\n                >\r\n                  <span aria-hidden=\"true\">&times;</span>\r\n                </button>\r\n                <strong>Error</strong> {{this.messageError}}\r\n              </div>\r\n              </ng-template>\r\n            </li>\r\n          </ng-container>\r\n\r\n          <ng-container *ngIf=\"tipouser == 2;\">\r\n            <li [ngbNavItem]=\"2\">\r\n              <a ngbNavLink> Perfil Editorial</a>\r\n              <ng-template ngbNavContent>\r\n  \r\n                <form [formGroup]=\"myFormRest\" (ngSubmit)=\"onSubmitRest()\">\r\n                  <div class=\"input-group form-group\">\r\n                    <div class=\"input-group-prepend\">\r\n                      <span class=\"input-group-text\"\r\n                        ><i class=\"fas fa-building\"></i\r\n                      ></span>\r\n                    </div>\r\n                    <input\r\n                      [class.is-invalid]=\"\r\n                        myFormRest.get('EditorialName').touched &&\r\n                        myFormRest.get('EditorialName').invalid\r\n                      \"\r\n                      type=\"text\"\r\n                      class=\"form-control\"\r\n                      placeholder=\"nombre editorial\"\r\n                      formControlName=\"EditorialName\"\r\n                      autofocus\r\n                    />\r\n                  </div>\r\n                 \r\n                  <div class=\"input-group form-group\">\r\n                    <div class=\"input-group-prepend\">\r\n                      <span class=\"input-group-text\"\r\n                        ><i class=\"fas fa-key\"></i\r\n                      ></span>\r\n                    </div>\r\n                    <input\r\n                      id=\"testPassword\"\r\n                      [class.is-invalid]=\"\r\n                         myFormRest.get('EditorialPass').touched && \r\n                         myFormRest.get('EditorialPass').invalid\"\r\n                      type=\"password\"\r\n                      class=\"form-control\"\r\n                      placeholder=\"contrasea\"\r\n                      formControlName=\"EditorialPass\"\r\n                    />\r\n                  </div>\r\n  \r\n                  <div class=\"input-group form-group\">\r\n                    <div class=\"input-group-prepend\">\r\n                      <span class=\"input-group-text\"><i class=\"fas fa-envelope\"></i></span>\r\n                    </div>\r\n                    <input\r\n                    id=\"testCorreo\"\r\n                [class.is-invalid]=\"\r\n                        myFormRest.get('EditorialEmail').touched && \r\n                        myFormRest.get('EditorialEmail').invalid\"\t\r\n                      type=\"email\"\r\n                      class=\"form-control\"\r\n                      placeholder=\"correo\"\r\n                      formControlName=\"EditorialEmail\"\r\n                    />\r\n                  </div>\r\n                  \r\n                  <div class=\"input-group form-group\">\r\n                    <div class=\"input-group-prepend\">\r\n                      <span class=\"input-group-text\"><i class=\"fas fa-phone\"></i></span>\r\n                    </div>\r\n                    <input\r\n                      [class.is-invalid]=\"\r\n                        myFormRest.get('EditorialPhone').touched &&\r\n                        myFormRest.get('EditorialPhone').invalid\r\n                      \"\r\n                      type=\"text\"\r\n                      class=\"form-control\"\r\n                      placeholder=\"telefono\"\r\n                      formControlName=\"EditorialPhone\"\r\n                      autofocus\r\n                    />\r\n                  </div>\r\n                  <div class=\"form-group\">\r\n                    <input\r\n                      type=\"submit\"\r\n                      value=\"Enviar\"\r\n                      class=\"btn float-right login_btn\"\r\n                    />\r\n                  </div>\r\n              \r\n                <div\r\n                  *ngIf=\"credentialsInvalid\"\r\n                  class=\"alert alert-danger\"\r\n                  role=\"alert\"\r\n                  id=\"alertaLogin\"\r\n                >\r\n                  <button\r\n                    type=\"button\"\r\n                    class=\"close\"\r\n                    data-dismiss=\"alert\"\r\n                    aria-label=\"Close\"\r\n                  >\r\n                    <span aria-hidden=\"true\">&times;</span>\r\n                  </button>\r\n                  <strong>Error</strong> {{this.messageError}}\r\n                </div>\r\n                </form>\r\n              </ng-template>\r\n            </li>\r\n            </ng-container>\r\n\r\n\r\n\r\n\r\n\r\n          </ul>\r\n          <div [ngbNavOutlet]=\"nav\" class=\"mt-2\"></div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  \r\n","import { HttpClient } from '@angular/common/http';\r\nimport { Component, OnInit } from '@angular/core';\r\nimport { NgbModal } from '@ng-bootstrap/ng-bootstrap';\r\nimport { FormControl, FormGroup, Validators } from \"@angular/forms\";\r\nimport { Router } from '@angular/router';\r\nimport { URLs } from '../urls/urls';\r\n\r\n@Component({\r\n  selector: 'app-carrito',\r\n  templateUrl: './carrito.component.html',\r\n  styleUrls: ['./carrito.component.css']\r\n})\r\nexport class CarritoComponent implements OnInit {\r\n  public listacarrito = []\r\n  public listacompra = []\r\n\r\n  myURL = new URLs();\r\n  url_compra: string = this.myURL.url_compra;\r\n  error;\r\n\r\n\r\nconstructor(private http: HttpClient, private modal:NgbModal, private router : Router) { \r\n  \r\n    this.listacarrito= JSON.parse(localStorage.getItem('productoscarrito'));\r\n   \r\n}\r\n  \r\n\r\nngOnInit(): void {\r\n  }\r\n  \r\n\r\n  quitarCarrito(pro){\r\n    let listatemporal=[]\r\n    this.listacarrito.forEach(element => {\r\n      listatemporal.push(element)\r\n      if(pro==element){\r\n        listatemporal.pop()\r\n      }\r\n    });\r\n    localStorage.setItem('productoscarrito', JSON.stringify(listatemporal));\r\n    window.location.reload();\r\n  }\r\n\r\n\r\n//Crear una orden, se enva la factura al cliente a su correo\r\n  crearPedido(estado){\r\n    var res;\r\n    let carrito = {};\r\n\r\n    carrito = this.listacarrito.reduce((final,actual)=>{\r\n      final.productos.push({nombre: actual.title, precio: actual.price})\r\n      final.total = final.total + actual.price \r\n      return final\r\n    },{productos: [], total:0, estado:estado, usuario:  JSON.parse(localStorage.getItem('usuario')).correo})\r\n\r\n    console.log(\"Este es el json\", carrito);\r\n\r\n    this.http.post(this.url_compra, carrito).subscribe((data:[])=> {\r\n      res = data;\r\n      console.log(\"Valor de res\", res);\r\n      location.reload();\r\n      alert('Compra realizada exitosamente!');\r\n      },error => this.error = error); \r\n  }\r\n\r\n\r\n\r\n}\r\n","<html>\r\n\r\n    <body>\r\n    \r\n        <div class=\"card\">\r\n            <div class=\"encabezado\">\r\n                <h1 >MI CARRITO</h1> <br>\r\n                \r\n            </div>\r\n            \r\n           \r\n            <div  class=\"productos\">\r\n                <div class=\"\">\r\n                    <div  *ngFor=\"let pro of listacarrito\"  class=\"product\" >\r\n                     <div class=\"tarjeta\" >\r\n                        <img src=\"data:image/png;base64,{{pro.coverPage}}\" alt=\" \" />\r\n                         <h3>Titulo: {{pro.title}}</h3>\r\n                         <h3>Precio Q.{{pro.price}}</h3>\r\n                         <button class=\"btn btn-info\" (click)=\"quitarCarrito(pro)\">Eliminar del carrito</button>\r\n                        \r\n                         </div>\r\n                    </div>\r\n                </div>\r\n         \r\n            </div>\r\n            \r\n            <div align=\"center\" class=\"encabezado\">\r\n                <button class=\"btn btn-info\" (click)=\"crearPedido(1);\" >CONFIRMAR ORDEN</button>\r\n              \r\n            </div>\r\n            \r\n        </div>\r\n        \r\n    </body>\r\n\r\n\r\n</html>\r\n","import { Injectable } from '@angular/core';\r\nimport { CanActivate, Router } from '@angular/router';\r\nimport { UsuarioService } from '../services/usuario.service';\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class UsuarioGuard implements CanActivate {\r\n  constructor(private loginService: UsuarioService, private router: Router){\r\n\r\n  }\r\n  canActivate():boolean{\r\n\r\n    if(this.loginService.estaLog()){\r\n      return true;\r\n    }\r\n    this.router.navigate(['/denegado']);\r\n    return false;\r\n  }\r\n  \r\n}\r\n","import { enableProdMode } from '@angular/core';\r\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\r\n\r\nimport { AppModule } from './app/app.module';\r\nimport { environment } from './environments/environment';\r\n\r\nif (environment.production) {\r\n  enableProdMode();\r\n}\r\n\r\nplatformBrowserDynamic().bootstrapModule(AppModule)\r\n  .catch(err => console.error(err));\r\n","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"zn8P\";"]}